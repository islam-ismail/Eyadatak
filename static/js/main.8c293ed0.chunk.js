(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){e.exports=a.p+"static/media/login-shape.31566399.svg"},174:function(e,t,a){e.exports=a.p+"static/media/user-info.d37fd226.svg"},175:function(e,t,a){e.exports=a.p+"static/media/help.d951ddfb.svg"},176:function(e,t,a){e.exports=a.p+"static/media/note.9ec842ae.svg"},178:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAANCAYAAACgu+4kAAAAAXNSR0IArs4c6QAAAOdJREFUKBVjYCABSOi7h4kbuu9mYHBggWljgjGIoV9c3LmKkYHhmLgR22qgepL0opgvYeSeI2HothAoyMgobuT+HGiqBIoKIjn/GBiDiVSKqgzkAnEjt5lAUaDdJAIJQ/dGYEBOxtAmouehDpRYiiGBJCBu6OoMNKAHSQjCBGkGOuuwkI6bLIYkIQFg3GoD/bOPV8NZmJBabPKMQGffZmRkUMEmSUjsH8O/WJa/jP8jmBkYpjL8YfB7eWnXK0Ka0OWZvz2/+5xLQvkWEzPDWjZh5U3fX939hK6IKD7QKy7A1HWaKMVIigAFuDGK/nysYAAAAABJRU5ErkJggg=="},179:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAAAAXNSR0IArs4c6QAAAXNJREFUKBWFUjFLA1EMTvLOtoNgQWiLOHRwcOudjooW8aq7m3/C1cXJpT/DP+AoyNlBxE207SbiUMTh6lRBoa19F/NO33EepQZyyUu+L5e8F4SMlNyGjwgHEh7128FRJg1Y9vwmIg6BocQAOQZ8IcYbjVGkEHYkto4A98y4qJHPHAD8YIaqBMemGiETINeVLc1SSpJCvFMMvhBgIvoctoOmxUyzxdqulydaMoREfvvfkt5Pim69WMC52pC/uoPO9UDAewZIFm2HlfYey17jdDgaL4jvOuBsWMwfQjqY9hXgSvqc/OGtE1xJxXO50lXTUiGfe0dQXaNpQjJDxd2vAmpzU62K52//gDSbGaYSNE+W5T7ddNL4MsO8mAsbT1oyAR3Bp1GbNDY7Q9KSSSJE8j4ikeojURj7mU9MkGEnCp1XYdgCvbBz2ctg42MMQIpuw4fAAIzOFFm+xrEsSy7eoRlQraMWEW2SbOraf2BTRxEdMtLTN+9be/oy1wWbAAAAAElFTkSuQmCC"},180:function(e,t,a){e.exports=a.p+"static/media/discuss-icon.7d2ab9c5.svg"},181:function(e,t,a){e.exports=a.p+"static/media/wallet-icon.04f1ad60.svg"},182:function(e,t,a){e.exports=a.p+"static/media/settings-icon.f845f89f.svg"},183:function(e,t,a){e.exports=a.p+"static/media/facebook-icon.1aae4c51.svg"},184:function(e,t,a){e.exports=a.p+"static/media/twitter-icon.15d20519.svg"},185:function(e,t,a){e.exports=a.p+"static/media/instagram-icon.0a033716.svg"},186:function(e,t,a){e.exports=a.p+"static/media/youtube-icon.0389c219.svg"},187:function(e,t,a){e.exports=a.p+"static/media/logo-white.7e811f81.svg"},188:function(e,t,a){e.exports=a.p+"static/media/error-404.bee7ecf0.svg"},218:function(e,t,a){e.exports=a(408)},226:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},408:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"myCasesListActionStart",function(){return me}),a.d(n,"myCasesListActionFinish",function(){return de}),a.d(n,"myCasesListActionError",function(){return he}),a.d(n,"setMyCases",function(){return fe}),a.d(n,"addNewCaseToMyList",function(){return Ee}),a.d(n,"updateCaseInMyList",function(){return ge}),a.d(n,"sortCasesList",function(){return ye}),a.d(n,"filterCases",function(){return ve}),a.d(n,"clearLists",function(){return be}),a.d(n,"setPendingTransfers",function(){return _e}),a.d(n,"setMyCasesList",function(){return Ne}),a.d(n,"setDoctorCasesList",function(){return we}),a.d(n,"setPatientCasesList",function(){return Ae}),a.d(n,"sortCasesListRequest",function(){return Te}),a.d(n,"filterCasesList",function(){return je}),a.d(n,"clearCaseLists",function(){return qe}),a.d(n,"setPendingTransfersList",function(){return Re}),a.d(n,"acceptCaseTransfer",function(){return ke}),a.d(n,"rejectCaseTransfer",function(){return Ie}),a.d(n,"asyncSetMedicalCaseReplies",function(){return xe});var r={};a.r(r),a.d(r,"asyncActionStart",function(){return Fe}),a.d(r,"asyncActionFinish",function(){return De}),a.d(r,"asyncActionError",function(){return Pe}),a.d(r,"switchToArabic",function(){return Le}),a.d(r,"switchToEnglish",function(){return Me}),a.d(r,"setLocale",function(){return Ue});var s={};a.r(s),a.d(s,"signIn",function(){return Qe}),a.d(s,"updateUser",function(){return He}),a.d(s,"signOut",function(){return Be}),a.d(s,"asyncSignUp",function(){return Ye}),a.d(s,"asyncSignIn",function(){return We}),a.d(s,"asyncUpdateUser",function(){return Ge}),a.d(s,"autoSignIn",function(){return ze}),a.d(s,"refreshToken",function(){return Je}),a.d(s,"clearListsAction",function(){return Ve});var c={};a.r(c),a.d(c,"newCaseActionStart",function(){return Ut}),a.d(c,"newCaseActionFinish",function(){return Qt}),a.d(c,"newCaseActionError",function(){return Ht}),a.d(c,"setPrimarySpecialities",function(){return Bt}),a.d(c,"setSecondarySpecialities",function(){return Yt}),a.d(c,"setRequiredQuestions",function(){return Wt}),a.d(c,"setInitialNotRequiredQuestions",function(){return Gt}),a.d(c,"setNotRequiredQuestions",function(){return zt}),a.d(c,"setInitialRequiredQuestions",function(){return Jt}),a.d(c,"setNewToBePaidCase",function(){return Vt}),a.d(c,"removeNewToBePaidCase",function(){return Kt}),a.d(c,"asyncSetPrimarySpecialities",function(){return Xt}),a.d(c,"asyncSetSecondarySpecialities",function(){return Zt}),a.d(c,"asyncSetInitialRequiredQuestions",function(){return $t}),a.d(c,"asyncSetRequiredQuestions",function(){return ea}),a.d(c,"asyncSetInitialNotRequiredQuestions",function(){return ta}),a.d(c,"asyncSetNotRequiredQuestions",function(){return aa}),a.d(c,"setInitialQuestionValues",function(){return na}),a.d(c,"addNewCase",function(){return ra});var i={};a.r(i),a.d(i,"transferCaseActionStart",function(){return sa}),a.d(i,"transferCaseActionFinish",function(){return ca}),a.d(i,"transferCaseActionError",function(){return ia}),a.d(i,"setDoctorsList",function(){return oa}),a.d(i,"transferRequestSuccessful",function(){return la}),a.d(i,"setTopLevelSpecialities",function(){return ua}),a.d(i,"setSecondLevelSpecialities",function(){return pa}),a.d(i,"setSpecialityDoctorsList",function(){return ma}),a.d(i,"transferCaseToDoctor",function(){return da}),a.d(i,"transferCaseToSpeciality",function(){return ha}),a.d(i,"deleteTransfer",function(){return fa});var o={};a.r(o),a.d(o,"historyAccessActionStart",function(){return Ea}),a.d(o,"historyAccessActionFinish",function(){return ga}),a.d(o,"historyAccessActionError",function(){return ya}),a.d(o,"requestFullHistoryAccess",function(){return va}),a.d(o,"requestSpecialityHistoryAccess",function(){return ba}),a.d(o,"setApprovedHistoryCases",function(){return _a}),a.d(o,"setRequestStatus",function(){return Sa}),a.d(o,"requestHistoryAccess",function(){return Oa}),a.d(o,"setHistoryCases",function(){return Ca}),a.d(o,"setAccessRequestStatus",function(){return Na}),a.d(o,"approveHistoryAccess",function(){return wa}),a.d(o,"declineHistoryAccess",function(){return Aa});var l={};a.r(l),a.d(l,"chatCaseActionStart",function(){return Ra}),a.d(l,"chatCaseActionFinish",function(){return ka}),a.d(l,"chatCaseActionError",function(){return Ia}),a.d(l,"setCaseChatData",function(){return xa}),a.d(l,"setCasePatient",function(){return Fa}),a.d(l,"setCaseDoctor",function(){return Da}),a.d(l,"groupAnswersAndQuestions",function(){return Pa}),a.d(l,"setChatCaseReplies",function(){return La}),a.d(l,"setDoctorChatCaseReplies",function(){return Ma}),a.d(l,"setPatientChatCaseReplies",function(){return Ua}),a.d(l,"handleSubmitChatReply",function(){return Qa}),a.d(l,"handleUploadFiles",function(){return Ha}),a.d(l,"handleSubmitAnswers",function(){return Ba}),a.d(l,"setHistoryAccessRequestStatus",function(){return Ya}),a.d(l,"respondToHistoryAccessRequest",function(){return Wa}),a.d(l,"deleteTransferRequest",function(){return Ga});var u={};a.r(u),a.d(u,"questionTemplateActionStart",function(){return En}),a.d(u,"questionTemplateActionFinish",function(){return gn}),a.d(u,"questionTemplateActionError",function(){return yn}),a.d(u,"setSavedQuestions",function(){return vn}),a.d(u,"addQuestionToTemplate",function(){return bn}),a.d(u,"sendCaseQuestions",function(){return _n}),a.d(u,"setSavedQuestionsList",function(){return Sn}),a.d(u,"saveNewQuestion",function(){return On}),a.d(u,"sendCaseTemplateQuestions",function(){return Cn});var p={};a.r(p),a.d(p,"historyCaseActionStart",function(){return qn}),a.d(p,"historyCaseActionFinish",function(){return Rn}),a.d(p,"historyCaseActionError",function(){return kn}),a.d(p,"setHistoryCaseChatData",function(){return In}),a.d(p,"setHistoryCaseReplies",function(){return xn});var m={};a.r(m),a.d(m,"paymentReceiptsListActionStart",function(){return Br}),a.d(m,"paymentReceiptsListActionFinish",function(){return Yr}),a.d(m,"paymentReceiptsListActionError",function(){return Wr}),a.d(m,"setPaymentReceipts",function(){return Gr}),a.d(m,"sortReceiptsList",function(){return zr}),a.d(m,"filterReceipts",function(){return Jr}),a.d(m,"clearLists",function(){return Vr}),a.d(m,"setPaymentReceiptsList",function(){return Kr}),a.d(m,"sortReceiptsListRequest",function(){return Xr}),a.d(m,"filterReceiptsList",function(){return Zr}),a.d(m,"clearReceiptLists",function(){return $r});var d=a(0),h=a.n(d),f=a(39),E=a.n(f);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g=a(21),y=a(14),v=(a(226),a(227),a(228),a(229),a(3)),b=a(4),_=a(5),S=a(7),O=a(6),C=a(8),N=a(32),w=a(10),A=a(11),T=a(36),j=a.n(T),q=a(111),R=a.n(q),k=a(65),I=a.n(k),x=a(191),F=function(e){var t=e.loading?"globalLoader show":"globalLoader";return h.a.createElement("div",{className:t},h.a.createElement(x.a,{height:4,width:100,color:"#36D7B7",loading:e.loading}))},D=a(165),P=a(166),L=a(112),M=a(114),U=function(e){var t=e.input,a=e.type,n=e.label,r=e.wrapperClass,s=e.meta,c=void 0===s?{touched:!1,error:"",dirty:!1}:s,i=r||"input-group",o=c&&c.touched&&c.error?i+" error":i;return h.a.createElement("div",{className:o},h.a.createElement("label",{className:c.dirty?"dirty":""},n),h.a.createElement("input",Object.assign({},t,{type:a})),h.a.createElement("span",{className:"highlight"}),h.a.createElement("span",{className:"bar"}),c.touched&&!!c.error&&h.a.createElement("span",{className:"err-msg"},c.error))},Q=a(2),H=a.n(Q),B=a(13),Y=a(12),W=a.n(Y),G=a(22),z=a(169),J=a.n(z),V=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,K=function(e){var t=[],a=(new Date).getFullYear();for(e=e||1900;e<=a-14;){var n={key:++e,value:e};t.push(n)}return t.reverse()},X=[{value:"01",key:"January"},{value:"02",key:"February"},{value:"03",key:"March"},{value:"04",key:"April"},{value:"05",key:"May"},{value:"06",key:"June"},{value:"07",key:"July"},{value:"08",key:"August"},{value:"09",key:"September"},{value:"10",key:"October"},{value:"11",key:"November"},{value:"12",key:"December"}],Z=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:31,t=[],a=[1,2,3,4,5,6,7,8,9],n=1;n<=e;n++)if(a.includes(n)){var r={key:"0".concat(n),value:"0".concat(n)};t.push(r)}else{var s={key:n,value:n};t.push(s)}return t},$=function(e){return["01","03","05","07","08","10","12"].includes(e)?Z(31):Z("02"===e?28:30)},ee=function(){return localStorage.getItem("eyadatak-jwt")},te=function(e){return localStorage.setItem("eyadatak-locale",e)},ae=function(){return localStorage.getItem("eyadatak-locale")},ne=function(e){localStorage.setItem("eyadatak-signedInUser",e)},re=function(){return localStorage.getItem("eyadatak-signedInUser")},se=function(e){e?W.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete W.a.defaults.headers.common.Authorization},ce=function(e){if(e)return J()(e).exp<Date.now()/1e3},ie=function(e){var t=-(new Date).getTimezoneOffset()/60-2,a=new Date(e);return a.setTime(a.getTime()+60*t*60*1e3),(2===a.getDate().toString().length?a.getDate().toString():"0"+a.getDate().toString())+"/"+(2===(a.getMonth()+1).toString().length?(a.getMonth()+1).toString():"0"+(a.getMonth()+1).toString())+"/"+a.getFullYear().toString()},oe=function(e){return"//eyadatak.sevendynamic.com/backend/storage/"+e},le=function(e){var t=e,a=e.split("/");return a&&a.length&&(t=a.pop()),t},ue=function(e){return"case_replies/medical_case/".concat(e)},pe=function(e,t){return"patient/case_questions/".concat(e,"/").concat(t)},me=function(){return{type:"MY_CASES_LIST_ACTION_START",excludeRefresh:!0}},de=function(){return{type:"MY_CASES_LIST_ACTION_FINISH",excludeRefresh:!0}},he=function(){return{type:"MY_CASES_LIST_ACTION_ERROR",excludeRefresh:!0}},fe=function(e){return{type:"SET_MY_CASES",payload:e}},Ee=function(e){return{type:"ADD_NEW_CASE_ACTION",payload:e}},ge=function(e){return{type:"UPDATE_CASE_IN_MY_LIST_ACTION",payload:e}},ye=function(e,t,a){return{type:"SORT_CASES_LIST",payload:{orderBy:e,order:t,medicalCases:a}}},ve=function(e){return{type:"FILTER_CASES",payload:e}},be=function(){return{type:"CLEAR_CASE_LISTS"}},_e=function(e){return{type:"SET_PENDING_TRANSFERS",payload:e}};function Se(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function Oe(e,t){return"desc"===e?function(e,a){return Se(e,a,t)}:function(e,a){return-Se(e,a,t)}}function Ce(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}var Ne=function(e){return function(t){"doctor"===e.type?t(we(e)):t(Ae(e))}},we=function(e){return function(){var e=Object(B.a)(H.a.mark(function e(t){var a,n,r,s;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(me()),e.next=4,W.a.get("doctor/medical_cases");case 4:a=e.sent,n=a.data,r=[],n.data&&(r=n.data.medical_cases),r.map(function(e){return e.patient_name=e.patient?e.patient.name:"",e.speciality_name=e.speciality.title_ar,e}),s=Ce(r,Oe("desc","updated_at")),t(fe(s)),t(de()),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("error:",e.t0),e.t0.response&&e.t0.response.data.error_message&&A.c.error(e.t0.response.data.error_message),t(he());case 19:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}()},Ae=function(e){return function(){var t=Object(B.a)(H.a.mark(function t(a){var n,r,s,c;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(me()),n=[],t.next=5,W.a.get((i=e.id,"patient/medical_cases".concat(i?"/"+i:"")));case 5:r=t.sent,(s=r.data).data&&((n=s.data.medical_cases).map(function(e){return e.doctor_name=0===e.doctor_id?"\u0644\u0645 \u064a\u062a\u0645 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0637\u0628\u064a\u0628":e.doctor?e.doctor.name:"",0!==e.speciality.parent_id?(e.sub_speciality_name=e.speciality.parent?e.speciality.parent.title_ar:"",e.speciality_name=e.speciality.title_ar):e.speciality_name=e.speciality.title_ar,e}),(c=Ce(n,Oe("desc","updated_at")))&&a(fe(c))),a(de()),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("error:",t.t0),t.t0.response&&t.t0.response.data.error_message&&A.c.error(t.t0.response.data.error_message),a(he());case 16:case"end":return t.stop()}var i},t,null,[[0,11]])}));return function(e){return t.apply(this,arguments)}}()},Te=function(e,t,a){return function(){var n=Object(B.a)(H.a.mark(function n(r){var s;return H.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{r(me()),s=Ce(a,Oe(t,e)),r(ye(e,t,s)),r(de())}catch(c){console.log("error:",c),c.response&&c.response.data.error_message&&A.c.error(c.response.data.error_message),r(he())}case 1:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},je=function(e,t){return function(){var a=Object(B.a)(H.a.mark(function a(n){return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0,n(me()),a.t0=e,a.next="Open"===a.t0?5:"New"===a.t0?7:"Waiting for patient reply"===a.t0?9:"Waiting for doctor reply"===a.t0?11:"Closed"===a.t0?13:15;break;case 5:return n(ve(t.filter(function(e){return"Closed"!==e.status}))),a.abrupt("break",16);case 7:return n(ve(t.filter(function(e){return"Open"===e.status}))),a.abrupt("break",16);case 9:return n(ve(t.filter(function(e){return"Waiting for patient reply"===e.status}))),a.abrupt("break",16);case 11:return n(ve(t.filter(function(e){return"Waiting for doctor reply"===e.status}))),a.abrupt("break",16);case 13:return n(ve(t.filter(function(e){return"Closed"===e.status}))),a.abrupt("break",16);case 15:n(ve(t));case 16:n(de()),a.next=24;break;case 19:a.prev=19,a.t1=a.catch(0),console.log("error:",a.t1),a.t1.response&&a.t1.response.data.error_message&&A.c.error(a.t1.response.data.error_message),n(he());case 24:case"end":return a.stop()}},a,null,[[0,19]])}));return function(e){return a.apply(this,arguments)}}()},qe=function(){return function(){var e=Object(B.a)(H.a.mark(function e(t){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(me()),e.next=4,t(be());case 4:t(de()),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error:",e.t0),e.t0.response&&e.t0.response.data.error_message&&A.c.error(e.t0.response.data.error_message),t(he());case 12:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},Re=function(e){return function(){var t=Object(B.a)(H.a.mark(function t(a){var n,r,s,c;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(me()),n=[],t.next=5,W.a.get("doctor/case_transfers");case 5:r=t.sent,(s=r.data).data&&(n=s.data.case_transfers,c=n.filter(function(t){return t.to_doctor_id===e&&"Waiting"===t.status}),a(_e(c))),a(de()),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("error:",t.t0),t.t0.response&&t.t0.response.data.error_message&&A.c.error(t.t0.response.data.error_message),a(he());case 16:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e){return t.apply(this,arguments)}}()},ke=function(e,t){return function(){var a=Object(B.a)(H.a.mark(function a(n){return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(me()),a.next=4,W.a.post("doctor/case_transfers/accept_case_transfer/".concat(e));case 4:n(Re(t)),n(de()),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("error:",a.t0),a.t0.response&&a.t0.response.data.error_message&&A.c.error(a.t0.response.data.error_message),n(he());case 13:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},Ie=function(e,t){return function(){var a=Object(B.a)(H.a.mark(function a(n){return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(me()),a.next=4,W.a.post("doctor/case_transfers/reject_case_transfer/".concat(e));case 4:n(Re(t)),n(de()),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("error:",a.t0),a.t0.response&&a.t0.response.data.error_message&&A.c.error(a.t0.response.data.error_message),n(he());case 13:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},xe=function(e,t){return function(){var a=Object(B.a)(H.a.mark(function a(n){var r,s,c,i;return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(me()),r=[],s=null,a.next=6,W.a.get(ue(e.id));case 6:c=a.sent,(i=c.data).data&&(r=i.data.case_replies,s=r.sort(function(e,t){return new Date(e.updated_at).getTime()-new Date(t.updated_at).getTime()})[r.length-1]),s?(e.latestReply=s.reply,e.is_read=1===s.is_read||s.replier_id===t.id):(e.latestReply="",e.is_read=!0),a.next=17;break;case 12:a.prev=12,a.t0=a.catch(0),console.log("error:",a.t0),a.t0.response&&a.t0.response.data.error_message&&A.c.error(a.t0.response.data.error_message),n(he());case 17:case"end":return a.stop()}},a,null,[[0,12]])}));return function(e){return a.apply(this,arguments)}}()},Fe=function(){return{type:"ASYNC_ACTION_START",excludeRefresh:!0}},De=function(){return{type:"ASYNC_ACTION_FINISH",excludeRefresh:!0}},Pe=function(){return{type:"ASYNC_ACTION_ERROR",excludeRefresh:!0}},Le=function(){return{type:"SWITCH_TO_ARABIC",excludeRefresh:!0}},Me=function(){return{type:"SWITCH_TO_ENGLISH",excludeRefresh:!0}},Ue=function(e){return{type:"SET_LOCALE",payload:e,excludeRefresh:!0}},Qe=function(e){return ne(JSON.stringify(e.user)),{type:"SIGN_IN",payload:e.user}},He=function(e){return ne(JSON.stringify(e.user)),{type:"UPDATE_USER",payload:e.user}},Be=function(){return localStorage.removeItem("eyadatak-jwt"),localStorage.removeItem("eyadatak-signedInUser"),se(null),{type:"SIGN_OUT",excludeRefresh:!0}},Ye=function(e){return function(){var t=Object(B.a)(H.a.mark(function t(a){var n,r;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Fe()),t.next=4,W.a.post("auth/register",e);case 4:n=t.sent,r=n.data,A.c.success(r.success_message),a(De()),a(Object(G.a)("signupForm")),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),t.t0.response&&t.t0.response.data.error_message&&A.c.error(t.t0.response.data.error_message),a(Pe());case 16:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e){return t.apply(this,arguments)}}()},We=function(e){return function(){var t=Object(B.a)(H.a.mark(function t(a){var n,r,s;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Fe()),t.next=4,W.a.post("auth/login",e);case 4:n=t.sent,(r=n.data)&&r.status&&r.data&&(a(Qe(r.data)),s=r.data.access_token,localStorage.setItem("eyadatak-jwt",s),se(s),a(De()),A.c.success("Welcome back, ".concat(r.data.user.name))),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.t0.response&&t.t0.response.data.error_message&&A.c.error(t.t0.response.data.error_message),a(Pe());case 14:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},Ge=function(e){return function(){var t=Object(B.a)(H.a.mark(function t(a){var n,r;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.a.post("patient/update".concat((s=void 0)?"/"+s:""),e);case 3:n=t.sent,(r=n.data)&&r.status&&r.data&&(a(He(r.data)),A.c.success("Your information updated successfully!")),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),t.t0.response&&t.t0.response.data.error_message&&A.c.error(t.t0.response.data.error_message),a(Pe());case 13:case"end":return t.stop()}var s},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},ze=function(){return function(){var e=Object(B.a)(H.a.mark(function e(t){var a,n,r;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t(Fe()),!(a=ee())||ce(a)){e.next=17;break}return e.prev=3,e.next=6,W.a.get("auth/me");case 6:n=e.sent,(r=n.data).data&&(se(a),t(Qe(r.data)),t(De())),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t(Be()),t(Pe());case 15:e.next=18;break;case 17:a&&ce(a)?t(Je()):(t(Be()),t(De()));case 18:case"end":return e.stop()}},e,null,[[3,11]])}));return function(t){return e.apply(this,arguments)}}()},Je=function(){return function(){var e=Object(B.a)(H.a.mark(function e(t){var a,n,r;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Fe()),e.next=4,W.a.post("auth/refresh");case 4:a=e.sent,(n=a.data).data&&(r=n.data.access_token,localStorage.setItem("eyadatak-jwt",r),se(r),t(Qe(n.data)),t(De())),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.t0.response&&e.t0.response.data.error_message&&A.c.error(e.t0.response.data.error_message),t(Be()),t(Pe());case 15:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},Ve=function(){return function(){var e=Object(B.a)(H.a.mark(function e(t){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t(qe())}catch(a){console.log(a),a.response&&a.response.data.error_message&&A.c.error(a.response.data.error_message),t(Be()),t(Pe())}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ke=a(16),Xe=a(83),Ze=a.n(Xe),$e=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleFormSubmit=function(e){a.props.asyncSignIn(e)},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.authenticated,a=e.history;t&&a.push("/dashboard")}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.switchScreens;return h.a.createElement("form",{onSubmit:t(this.handleFormSubmit)},h.a.createElement("div",{className:"form-group"},h.a.createElement(D.a,{name:"email",type:"text",component:U,label:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"})),h.a.createElement("div",{className:"form-group"},h.a.createElement(D.a,{name:"password",type:"password",component:U,label:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631"})),h.a.createElement("div",{className:"form-group btn-group"},h.a.createElement("button",{className:"login",type:"submit"},"\u062f\u062e\u0648\u0644 ",h.a.createElement("img",{src:Ze.a,alt:""})),h.a.createElement("button",{className:"signup",type:"button",onClick:function(){return a("signup")}},"\u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f"),h.a.createElement("div",{className:"underline-container"},h.a.createElement("div",{className:"underline-right"}),h.a.createElement("div",{className:" or-underline"},"\u0623\u0648"),h.a.createElement("div",{className:"underline-left"})),h.a.createElement("button",{className:"login-facebook",type:"submit"},"Continue With Facebook"," ",h.a.createElement("span",{className:"login-face-icon"},h.a.createElement(L.a,{icon:M.a,size:"2x"}))),h.a.createElement("button",{className:"login-google",type:"submit"},"Sign in With Google"," ",h.a.createElement("span",{className:"login-google-icon"},h.a.createElement(L.a,{icon:M.b,size:"lg"})))))}}]),t}(d.Component),et=Object(Ke.combineValidators)({email:Object(Ke.composeValidators)(Object(Ke.isRequired)({message:"\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),Object(Ke.matchesPattern)(V)({message:"\u0628\u0631\u062c\u0627\u0621\u0625\u062f\u062e\u0627\u0644 \u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0635\u0627\u0644\u062d "}))(),password:Object(Ke.isRequired)({message:"\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"})}),tt=Object(w.compose)(N.g,Object(y.b)(function(e){return{signedInUser:e.auth.signedInUser,authenticated:e.auth.authenticated}},s),Object(P.a)({form:"signinForm",enableReinitialize:!0,validate:et}))($e),at=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"login-form"},h.a.createElement("div",{className:"title"},h.a.createElement("h1",null,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644")),h.a.createElement(tt,{switchScreens:this.props.switchScreens}))}}]),t}(d.Component),nt=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.manyFields&&this.props.meta&&this.props.meta.touched&&this.props.meta.error&&this.props.onBirthdayFieldChange(this.props.meta.error)}},{key:"componentDidUpdate",value:function(e){this.props.manyFields&&this.props.meta&&this.props.meta.touched&&this.props.meta.error&&this.props.onBirthdayFieldChange("\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u064a\u0644\u0627\u062f"),this.props.manyFields&&this.props.meta&&this.props.meta.touched&&!this.props.meta.error&&this.props.onBirthdayFieldChange("")}},{key:"render",value:function(){var e=this.props,t=e.input,a=e.multiple,n=e.options,r=e.label,s=e.className,c=e.manyFields,i=e.wrapperClass,o=this.props.meta,l=i||"input-group",u=o&&o.touched&&o.error?l+" error":l;return h.a.createElement("div",{className:u},c?h.a.createElement(h.a.Fragment,null):h.a.createElement("label",{className:o.dirty?"dirty":""},r),h.a.createElement("select",Object.assign({},t,{multiple:a,className:s||""}),c?h.a.createElement("option",{value:""},r):h.a.createElement("option",{value:"",disabled:!0}),n&&n.map(function(e){return h.a.createElement("option",{key:e.value,value:e.value},e.key)})),!c&&o.touched&&!!o.error&&h.a.createElement("span",{className:"err-msg"},o.error))}}]),t}(d.Component),rt=nt,st=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={month:"January",birthdateError:""},a.handleMonthChange=function(e){a.setState(function(){return{month:e.target.value}})},a.handleBirthdateChange=function(e){a.setState(function(){return{birthdateError:e}})},a.handleFormSubmit=function(e){var t={name:e.name,email:e.email,password:e.password,password_confirmation:e.password_confirmation,birthdate:"".concat(e.year,"-").concat(e.month,"-").concat(e.day),gender:e.gender,phone_number:e.phone_number};a.props.asyncSignUp(t)},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.authenticated,a=e.history;t&&a.push("/dashboard")}},{key:"render",value:function(){var e=this.props.switchScreens;return h.a.createElement("form",{onSubmit:this.props.handleSubmit(this.handleFormSubmit)},h.a.createElement("div",{className:"multi-input"},h.a.createElement("div",{className:"form-group"},h.a.createElement(D.a,{name:"name",type:"text",component:U,label:"\u0627\u0644\u0627\u0633\u0645",autofocus:"autofocus",wrapperClass:"input"}))),h.a.createElement("div",{className:"form-group"},h.a.createElement(D.a,{name:"email",type:"text",component:U,label:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",wrapperClass:"input"})),h.a.createElement("div",{className:"multi-input"},h.a.createElement("div",{className:"form-group"},h.a.createElement(D.a,{name:"password",type:"password",component:U,label:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",wrapperClass:"input"})),h.a.createElement("div",{className:"form-group"},h.a.createElement(D.a,{name:"password_confirmation",type:"password",component:U,label:"\u062a\u0623\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",wrapperClass:"input"}))),h.a.createElement("div",{className:"form-group"},h.a.createElement(D.a,{name:"phone_number",type:"tel",component:U,label:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641",wrapperClass:"input"})),h.a.createElement("div",{className:"multi-input"},h.a.createElement("div",{className:"form-group inline"},h.a.createElement("label",{htmlFor:""},"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u064a\u0644\u0627\u062f "),h.a.createElement(D.a,{name:"year",component:rt,label:"\u0633\u0646\u0629",options:K(),className:"s5",required:!0,onBirthdayFieldChange:this.handleBirthdateChange,manyFields:!0,wrapperClass:"input"}),h.a.createElement(D.a,{name:"month",component:rt,label:"\u0634\u0647\u0631",options:X,required:!0,onBirthdayFieldChange:this.handleBirthdateChange,manyFields:!0,onChange:this.handleMonthChange,wrapperClass:"input"}),h.a.createElement(D.a,{name:"day",component:rt,label:"\u064a\u0648\u0645",required:!0,onBirthdayFieldChange:this.handleBirthdateChange,manyFields:!0,options:$(this.state.month),wrapperClass:"input"}),h.a.createElement("span",{className:"err-msg"},this.state.birthdateError)),h.a.createElement("div",{className:"form-group"},h.a.createElement(D.a,{component:rt,name:"gender",required:!0,options:[{key:"\u0630\u0643\u0631",value:"male"},{key:"\u0623\u0646\u062b\u0649",value:"female"}],label:"\u0627\u0644\u062c\u0646\u0633",wrapperClass:"input"}))),h.a.createElement("div",{className:"form-group btn-group"},h.a.createElement("button",{className:"login",type:"submit"},"\u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f",h.a.createElement("img",{src:Ze.a,alt:""})),h.a.createElement("button",{className:"signup",type:"button",onClick:function(){return e("signin")}},"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644")))}}]),t}(d.Component),ct=Ke.combineValidators({name:Ke.composeValidators(Ke.isRequired({message:"\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0627\u0633\u0645"}),Ke.hasLengthLessThan(255)({message:"\u0627\u0644\u0627\u0633\u0645 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0623\u0646 \u064a\u062a\u062c\u0627\u0648\u0632 255 \u062d\u0631\u0641"}))(),email:Ke.composeValidators(Ke.isRequired({message:"\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),Ke.matchesPattern(V)({message:"\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0635\u062d\u064a\u062d"}))(),password:Ke.composeValidators(Ke.isRequired({message:"\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),Ke.hasLengthLessThan(255)({message:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0623\u0646 \u062a\u062a\u062c\u0627\u0648\u0632 255 \u062d\u0631\u0641 \u0623\u0648 \u0631\u0642\u0645"}),Ke.hasLengthGreaterThan(6)({message:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0623\u0646 \u062a\u0642\u0644 \u0639\u0646 7 \u062d\u0631\u0648\u0641 \u0648\u0623\u0631\u0642\u0627\u0645"}))(),password_confirmation:Ke.composeValidators(Ke.isRequired({message:"\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),Ke.hasLengthLessThan(255)({message:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0623\u0646 \u062a\u062a\u062c\u0627\u0648\u0632 255 \u062d\u0631\u0641 \u0623\u0648 \u0631\u0642\u0645"}),Ke.matchesField("password","Password")({message:"\u0643\u0644\u0645\u0627\u062a \u0627\u0644\u0645\u0631\u0648\u0631 \u063a\u064a\u0631 \u0645\u062a\u0637\u0627\u0628\u0642\u0629"}))(),phone_number:Ke.composeValidators(Ke.isRequired({message:"\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),Ke.isNumeric({message:"\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0631\u0642\u0645 \u0647\u0627\u062a\u0641 \u0635\u062d\u064a\u062d"}))(),gender:Ke.isRequired({message:"\u0628\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062c\u0646\u0633"}),year:Ke.isRequired({message:"Please choose your year of birth."}),month:Ke.isRequired({message:"Please choose your month of birth."}),day:Ke.isRequired({message:"Please choose your day of birth."})}),it=Object(w.compose)(N.g,Object(y.b)(function(e){return{locale:e.global.locale,signedInUser:e.auth.signedInUser,authenticated:e.auth.authenticated}},s),Object(P.a)({form:"signupForm",enableReinitialize:!0,validate:ct}))(st),ot=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"login-form signup"},h.a.createElement("div",{className:"title"},h.a.createElement("h2",null," \u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f")),h.a.createElement(it,{switchScreens:this.props.switchScreens})))}}]),t}(d.Component),lt=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={screen:"signin"},a.switchScreens=function(e){a.setState(function(){return{screen:e}})},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e="signin"===this.state.screen?h.a.createElement(at,{switchScreens:this.switchScreens}):h.a.createElement(ot,{switchScreens:this.switchScreens});return this.props.loading?h.a.createElement(F,{loading:this.props.loading}):h.a.createElement(h.a.Fragment,null,"signin"===this.state.screen?h.a.createElement("main",{className:"content"},h.a.createElement("div",{className:"login-wrapper"},h.a.createElement("div",{className:"login-shape"},h.a.createElement("img",{className:"shape1",src:R.a,alt:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"}),h.a.createElement("img",{className:"shape2",src:I.a,alt:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"}),h.a.createElement("img",{className:"shape3",src:I.a,alt:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})),h.a.createElement("div",{className:"login-box"},h.a.createElement("div",{className:"login-bg"}),e)),h.a.createElement("aside",null)):h.a.createElement("main",{className:"content"},h.a.createElement("div",{className:"login-wrapper signup"},h.a.createElement("div",{className:"login-shape"},h.a.createElement("img",{className:"shape1",src:R.a,alt:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"}),h.a.createElement("img",{className:"shape2",src:I.a,alt:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"}),h.a.createElement("img",{className:"shape3",src:I.a,alt:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})),h.a.createElement("div",{className:"login-box"},h.a.createElement("div",{className:"login-bg"}),e)),h.a.createElement("aside",null)))}}]),t}(d.Component),ut=Object(w.compose)(Object(y.b)(function(e){return{loading:e.global.loading,authenticated:e.auth.authenticated}}))(lt),pt=function(e){var t="";switch(e.label){case"Open":t="\u0643\u0644 \u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0645\u0641\u062a\u0648\u062d\u0629";break;case"New":t="\u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629";break;case"Waiting for patient reply":t="\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0631\u062f \u0627\u0644\u0645\u0631\u064a\u0636";break;case"Waiting for doctor reply":t="\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0631\u062f \u0627\u0644\u0637\u0628\u064a\u0628";break;case"Closed":t="\u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0645\u063a\u0644\u0642\u0629";break;case"TRANSFER CASES":t="\u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0645\u062d\u0648\u0644\u0629";break;case"ALL MY CASES":t="\u0643\u0644 \u0627\u0644\u0623\u0633\u0626\u0644\u0629";break;case"Wallet Balance":t="\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u062d\u0641\u0638\u0629";break;default:t=""}return h.a.createElement(h.a.Fragment,null,void 0===e.amount?h.a.createElement(g.b,{to:{pathname:"/my-cases-list",state:{label:e.label}},className:"stat"},h.a.createElement("div",{className:"title"},h.a.createElement("h4",null,t)),h.a.createElement("div",{className:"number"},h.a.createElement("p",null,e.count))):h.a.createElement(g.b,{to:"/my-wallet",className:"stat"},h.a.createElement("div",{className:"title"},h.a.createElement("h4",null,t)),h.a.createElement("div",{className:"number"},h.a.createElement("p",null,e.amount),h.a.createElement("span",null,"\u062c.\u0645."))))},mt=a(85),dt=a.n(mt),ht=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={myCases:[],pendingTransfers:[]},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.authenticated&&this.props.signedInUser&&this.props.setMyCasesList(this.props.signedInUser),this.props.authenticated&&this.props.signedInUser&&"doctor"===this.props.signedInUser.type&&this.props.setPendingTransfersList(this.props.signedInUser.id)}},{key:"componentDidUpdate",value:function(e){var t=this;e.medicalCases!==this.props.medicalCases&&this.setState(function(){return{myCases:t.props.medicalCases}}),e.pendingTransfers!==this.props.pendingTransfers&&this.setState(function(){return{pendingTransfers:t.props.pendingTransfers}})}},{key:"render",value:function(){var e=this;return this.props.authenticated?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"container"},h.a.createElement("div",{className:"dashboard"},h.a.createElement("div",{className:"stats"},this.props.signedInUser?"doctor"===this.props.signedInUser.type?h.a.createElement(h.a.Fragment,null,h.a.createElement(pt,{label:"TRANSFER CASES",count:this.state.pendingTransfers.length}),h.a.createElement(pt,{label:"ALL MY CASES",count:this.state.myCases.filter(function(e){return"ALL MY CASES"===e.status}).length}),h.a.createElement(pt,{label:"New",count:this.state.myCases.filter(function(e){return"Open"===e.status}).length}),h.a.createElement(pt,{label:"Waiting for doctor reply",count:this.state.myCases.filter(function(e){return"Waiting for doctor reply"===e.status}).length}),h.a.createElement(pt,{label:"Waiting for patient reply",count:this.state.myCases.filter(function(e){return"Waiting for patient reply"===e.status}).length})):h.a.createElement(h.a.Fragment,null,h.a.createElement(pt,{label:"Wallet Balance",amount:123}),h.a.createElement(pt,{label:"Open",count:this.state.myCases.filter(function(e){return"Closed"!==e.status}).length}),h.a.createElement(pt,{label:"Waiting for patient reply",count:this.state.myCases.filter(function(e){return"Waiting for patient reply"===e.status}).length}),h.a.createElement(pt,{label:"Waiting for doctor reply",count:this.state.myCases.filter(function(e){return"Waiting for doctor reply"===e.status}).length}),h.a.createElement(pt,{label:"Closed",count:this.state.myCases.filter(function(e){return"Closed"===e.status}).length})):""),h.a.createElement("div",{className:"recent-questions"},h.a.createElement("div",{className:"title"},h.a.createElement("h4",null,"\u0622\u062e\u0631 \u0627\u0644\u0623\u0633\u0626\u0644\u0629")),h.a.createElement("div",{className:"questions"},this.state.myCases.filter(function(e){return"Closed"!==e.status}).map(function(t){return h.a.createElement("div",{key:t.id},e.props.signedInUser?h.a.createElement(g.b,{to:{pathname:"/case-details/".concat(t.id)}},h.a.createElement("div",{className:"item"},h.a.createElement("div",{className:"pic"},h.a.createElement("img",{src:dt.a,alt:"\u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0644\u0634\u062e\u0635\u064a\u0629"})),h.a.createElement("div",{className:"desc"},h.a.createElement("p",null,t.description),h.a.createElement("div",{className:"date"},h.a.createElement("p",null,ie(t.updated_at)))))):"")})))))):h.a.createElement(N.a,{to:"/"})}}]),t}(d.Component),ft=Object(w.compose)(Object(y.b)(function(e){return{locale:e.global.locale,signedInUser:e.auth.signedInUser,authenticated:e.auth.authenticated,medicalCases:e.myCasesList.medicalCases,pendingTransfers:e.myCasesList.pendingTransfers}},n))(ht),Et=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).headerData=[{id:"doctor"!==a.props.userType?"doctor_name":"patient_name",label:"doctor"!==a.props.userType?"\u0627\u0633\u0645 \u0627\u0644\u0637\u0628\u064a\u0628":"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636"},{id:"speciality_name",label:"\u0627\u0644\u062a\u062e\u0635\u0635"},{id:"created_at",label:"\u062a\u0627\u0631\u064a\u062e \u0628\u062f\u0621 \u0627\u0644\u0633\u0624\u0627\u0644"},{id:"description",label:"\u0627\u0644\u0633\u0624\u0627\u0644"},{id:"updated_at",label:"\u062a\u0627\u0631\u064a\u062e \u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b"},{id:"latestReply",label:"\u0623\u062d\u062f\u062b \u0631\u062f"}],a.sortRequest=function(e){return function(t){a.props.prepareSort(e),t.preventDefault()}},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this;return h.a.createElement("thead",null,h.a.createElement("tr",null,this.headerData.map(function(t){return h.a.createElement("th",{key:t.id,onClick:e.sortRequest(t.id)},t.label)})))}}]),t}(d.Component),gt=Et,yt=a(54),vt=a.n(yt),bt=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={filteredCases:[],sortAndFilter:{order:"desc",orderBy:"updated_at",page:0,rowsPerPage:10},page:0,rowsPerPage:10},a.prepareSort=function(e){var t="desc";e===a.props.sortAndFilter.orderBy&&"desc"===a.props.sortAndFilter.order&&(t="asc"),a.props.sortCasesListRequest(e,t,a.state.filteredCases)},a.handleChangePage=function(e){"prev"===e?0!==a.state.page&&a.setState(function(){return{page:a.state.page-1}}):a.state.page<a.state.filteredCases.length/a.state.rowsPerPage-1&&a.setState(function(){return{page:a.state.page+1}})},a.handleChangeRowsPerPage=function(e){a.setState(function(){return{rowsPerPage:parseInt(e.target.value,10)}}),e.persist()},a.handleRowClick=function(e,t){e.preventDefault(),a.props.caseClicked(t)},a.handleFilterChange=function(e){a.prepareSort(e.target.value),e.persist()},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(function(){return{filteredCases:e.props.filteredCases}})}},{key:"componentDidUpdate",value:function(e){var t=this;e.filteredCases!==this.props.filteredCases&&this.setState(function(){return{filteredCases:t.props.filteredCases}}),e.sortAndFilter.order===this.props.sortAndFilter.order&&e.sortAndFilter.orderBy===this.props.sortAndFilter.orderBy||this.setState(function(){return{sortAndFilter:t.props.sortAndFilter}})}},{key:"render",value:function(){var e=this;return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"action-bar cases"},h.a.createElement("div",{className:"select_all"},h.a.createElement("input",{type:"checkbox",name:"select_all",id:"select_all"}),h.a.createElement("label",{htmlFor:"select_all"},"\u0627\u062e\u062a\u0631 \u0627\u0644\u0643\u0644")),h.a.createElement("div",{className:"search"},h.a.createElement("input",{type:"search",placeholder:"\u0627\u0644\u0628\u062d\u062b  \u0639\u0646 \u062c\u0645\u064a\u0639 \u0627\u0644\u0627\u062f\u062e\u0627\u0644\u0627\u062a"}),h.a.createElement("div",{className:"s-icon"},h.a.createElement("img",{src:vt.a,alt:"search icon"}))),h.a.createElement("div",{className:"actions left"},h.a.createElement("div",{className:"single"},h.a.createElement("select",{className:"select",name:"gender",onChange:this.handleFilterChange},h.a.createElement("option",{value:"male"},"\u062a\u0631\u062a\u064a\u0628 \u062d\u0633\u0628"),"doctor"===this.props.userType?h.a.createElement("option",{value:"patient_name"},"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636"):h.a.createElement("option",{value:"doctor_name"},"\u0627\u0633\u0645 \u0627\u0644\u0637\u0628\u064a\u0628"),h.a.createElement("option",{value:"speciality_name"},"\u0627\u0644\u062a\u062e\u0635\u0635"),h.a.createElement("option",{value:"created_at"},"\u062a\u0627\u0631\u064a\u062e \u0628\u062f\u0621 \u0627\u0644\u0633\u0624\u0627\u0644"),h.a.createElement("option",{value:"description"},"\u0627\u0644\u0633\u0624\u0627\u0644"),h.a.createElement("option",{value:"updated_at"},"\u062a\u0627\u0631\u064a\u062e \u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b"),h.a.createElement("option",{value:"latestReply"},"\u0623\u062d\u062f\u062b \u0631\u062f"))),h.a.createElement("div",{className:"single"},h.a.createElement("select",{className:"select",name:"gender",onChange:this.handleChangeRowsPerPage},h.a.createElement("option",{value:"10"},"10 \u0623\u0633\u0626\u0644\u0629"),h.a.createElement("option",{value:"20"},"20 \u0633\u0624\u0627\u0644"),h.a.createElement("option",{value:"50"},"50 \u0633\u0624\u0627\u0644"),h.a.createElement("option",{value:"100"},"100 \u0633\u0624\u0627\u0644"))),h.a.createElement("div",{className:"single pagination"},h.a.createElement("button",{id:"next",onClick:function(){return e.handleChangePage("prev")}}),h.a.createElement("button",{id:"prev",onClick:function(){return e.handleChangePage("next")}})))),h.a.createElement("div",{className:"container"},h.a.createElement("table",{className:"all_cases"},h.a.createElement(gt,{prepareSort:this.prepareSort,orderBy:this.state.sortAndFilter.orderBy,order:this.state.sortAndFilter.order,userType:this.props.userType}),h.a.createElement("tbody",null,this.state.filteredCases.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map(function(t){return h.a.createElement("tr",{key:t.id,className:t.is_read?"":"unread"},h.a.createElement("td",null,h.a.createElement("a",{href:"/",onClick:function(a){return e.handleRowClick(a,t)}},"doctor"!==e.props.userType?t.doctor_name:t.patient_name)),t.sub_speciality_name?h.a.createElement("td",null,h.a.createElement("a",{href:"/",onClick:function(a){return e.handleRowClick(a,t)}},t.sub_speciality_name,":"," ",t.speciality_name)):h.a.createElement("td",null,h.a.createElement("a",{href:"/",onClick:function(a){return e.handleRowClick(a,t)}},t.speciality_name)),h.a.createElement("td",{className:"date"},h.a.createElement("a",{href:"/",onClick:function(a){return e.handleRowClick(a,t)}},ie(t.created_at))),h.a.createElement("td",null,h.a.createElement("a",{href:"/",onClick:function(a){return e.handleRowClick(a,t)}},t.description)),h.a.createElement("td",{className:"date"},h.a.createElement("a",{href:"/",onClick:function(a){return e.handleRowClick(a,t)}},ie(t.updated_at))),h.a.createElement("td",null,h.a.createElement("a",{href:"/",onClick:function(a){return e.handleRowClick(a,t)}},t.latestReply)))})))))}}]),t}(d.Component),_t=Object(w.compose)(Object(y.b)(function(e){return{locale:e.global.locale,filteredCases:e.myCasesList.filteredCases,sortAndFilter:e.myCasesList.sortAndFilter}},n),Object(P.a)({form:"myCasesListForm",enableReinitialize:!0}))(bt),St=function(e){var t=e.type,a=void 0===t?"button":t,n=e.theme,r=void 0===n?"default":n,s=e.size,c=void 0===s?"normal":s,i=e.disabled,o=void 0!==i&&i,l=e.icon,u=void 0===l?"":l,p=e.title,m=void 0===p?"":p,d=e.extraclasses,f=void 0===d?"":d;return h.a.createElement("button",Object.assign({type:a,className:"btn btn-".concat(r," ").concat(c," ").concat(u," ").concat(f),disabled:o,title:m},e),e.children)},Ot=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1,clickedCase:null,myCases:[],label:void 0===a.props.location.state||void 0===a.props.location.state.label?"ALL MY CASES":a.props.location.state.label,pendingTransfers:a.props.pendingTransfers},a.caseClicked=function(e){a.setState(function(){return{redirect:!0,clickedCase:e}})},a.acceptTransfer=function(e){a.props.signedInUser&&a.props.acceptCaseTransfer(e,a.props.signedInUser.id)},a.rejectTransfer=function(e){a.props.signedInUser&&a.props.rejectCaseTransfer(e,a.props.signedInUser.id)},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.authenticated&&((!this.props.medicalCases||0===this.props.medicalCases.length||this.props.location.state&&"SideNav"===this.props.location.state.source)&&this.props.signedInUser?this.props.setMyCasesList(this.props.signedInUser):this.setState(function(){return{myCases:e.props.medicalCases}}),this.props.filterCasesList(this.state.label,this.props.medicalCases))}},{key:"componentDidUpdate",value:function(e){var t=this;e.medicalCases!==this.props.medicalCases&&this.setState(function(){return{myCases:t.props.medicalCases}}),e.location.state.label!==this.props.location.state.label&&(this.setState(function(){return{label:void 0===t.props.location.state||void 0===t.props.location.state.label?"ALL MY CASES":t.props.location.state.label}}),void 0!==this.props.location.state&&void 0!==this.props.location.state.label||this.props.filterCasesList("ALL",this.props.medicalCases)),"SideNav"===this.props.location.state.source&&this.props.sortCasesListRequest("updated_at","desc",this.props.medicalCases),e.pendingTransfers!==this.props.pendingTransfers&&this.setState(function(){return{pendingTransfers:t.props.pendingTransfers}})}},{key:"render",value:function(){var e=this;return this.props.signedInUser&&this.state.redirect?h.a.createElement(N.a,{to:{pathname:"/case-details/".concat(this.state.clickedCase.id)}}):this.props.authenticated?this.props.loading?h.a.createElement(F,{loading:this.props.loading}):h.a.createElement(h.a.Fragment,null,"TRANSFER CASES"===this.state.label?h.a.createElement(h.a.Fragment,null,0===this.state.pendingTransfers.length?h.a.createElement(h.a.Fragment,null,h.a.createElement(N.a,{to:"/"})):h.a.createElement(h.a.Fragment,null,this.state.pendingTransfers.map(function(t){return h.a.createElement("div",{key:t.id},h.a.createElement("div",null,"Case ID: ",t.medical_case.id),h.a.createElement("div",null,"Description: ",t.medical_case.description),h.a.createElement("div",null,"From Doctor: ",t.from_doctor.name),h.a.createElement("div",null,"Created at:"," ",function(e){var t=-(new Date).getTimezoneOffset()/60-2,a=new Date(e);return a.setTime(a.getTime()+60*t*60*1e3),a.getFullYear().toString()+"-"+(2===(a.getMonth()+1).toString().length?(a.getMonth()+1).toString():"0"+(a.getMonth()+1).toString())+"-"+(2===a.getDate().toString().length?a.getDate().toString():"0"+a.getDate().toString())+" "+(2===a.getHours().toString().length?a.getHours().toString():"0"+a.getHours().toString())+":"+(2===parseInt(a.getMinutes().toString()).toString().length?parseInt(a.getMinutes().toString()).toString():"0"+parseInt(a.getMinutes().toString()).toString())+":"+(2===parseInt(a.getSeconds().toString()).toString().length?parseInt(a.getSeconds().toString()).toString():"0"+parseInt(a.getSeconds().toString()).toString())}(t.created_at)),h.a.createElement(St,{onClick:function(){return e.acceptTransfer(t.id)},size:"small",theme:"green"},"Accept"),h.a.createElement(St,{onClick:function(){return e.rejectTransfer(t.id)},size:"small",theme:"grey"},"Reject"))}))):this.props.signedInUser?h.a.createElement(_t,{caseClicked:this.caseClicked,userType:this.props.signedInUser.type}):"",h.a.createElement("aside",null)):h.a.createElement(N.a,{to:"/"})}}]),t}(d.Component),Ct=Object(w.compose)(N.g,Object(y.b)(function(e){return{locale:e.global.locale,loading:e.global.loading,signedInUser:e.auth.signedInUser,authenticated:e.auth.authenticated,medicalCases:e.myCasesList.medicalCases,pendingTransfers:e.myCasesList.pendingTransfers}},n))(Ot),Nt=a(24),wt=a(174),At=a.n(wt),Tt=a(175),jt=a.n(Tt),qt=a(176),Rt=a.n(qt),kt=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"aside-nav"},h.a.createElement("div",{className:"item ".concat(this.props.detailsActive)},h.a.createElement("a",{href:"/",onClick:this.props.toggleDetails},h.a.createElement("img",{src:At.a,alt:"user info"}))),h.a.createElement("div",{className:"item ".concat(this.props.questionsOrHistoryActive)},h.a.createElement("a",{href:"/",onClick:this.props.toggleQuestionsOrHistory},h.a.createElement("img",{src:jt.a,alt:"user info"}),this.props.removeNote?h.a.createElement(h.a.Fragment,null):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"note"},h.a.createElement("img",{src:Rt.a,alt:"notification"}))))))}}]),t}(d.Component),It=kt,xt=function(e){var t,a=e.chatCase,n=e.uploadedFiles;switch(a.status){case"Waiting for patient reply":t="\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0631\u062f \u0627\u0644\u0645\u0631\u064a\u0636";break;case"Waiting for doctor reply":t="\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0631\u062f \u0627\u0644\u0637\u0628\u064a\u0628";break;case"Closed":t="\u0645\u063a\u0644\u0642";break;case"Open":default:t="\u0645\u0641\u062a\u0648\u062d"}return h.a.createElement("div",{className:"aside-fixed"},h.a.createElement("div",{className:"title"},h.a.createElement("h3",null,"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0633\u0624\u0627\u0644")),h.a.createElement("div",{className:"info"},h.a.createElement("h4",null,"\u0627\u0644\u0633\u0624\u0627\u0644"),h.a.createElement("p",null,a.description)),h.a.createElement("div",{className:"info"},h.a.createElement("h4",null,"\u062a\u0627\u0631\u064a\u062e \u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u0633\u0624\u0627\u0644"),h.a.createElement("p",null,ie(a.created_at))),h.a.createElement("div",{className:"info"},h.a.createElement("h4",null,"\u062d\u0627\u0644\u0629 \u0627\u0644\u0633\u0624\u0627\u0644"),h.a.createElement("p",null,t)),h.a.createElement("div",{className:"info"},h.a.createElement("h4",null,"\u0627\u0644\u062a\u062e\u0635\u0635 \u0627\u0644\u0631\u0626\u064a\u0633\u064a"),h.a.createElement("p",null,a.speciality_name)),a.sub_speciality_name?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"info"},h.a.createElement("h4",null,"\u0627\u0644\u062a\u062e\u0635\u0635 \u0627\u0644\u0641\u0631\u0639\u064a"),h.a.createElement("p",null,a.sub_speciality_name))):h.a.createElement(h.a.Fragment,null),n&&n.length>0?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"info"},h.a.createElement("h4",null,"\u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0645\u0631\u0641\u0642\u0629"),n.map(function(e){return h.a.createElement("a",{key:e.name,href:e.url},h.a.createElement("p",null,e.name))}))):h.a.createElement(h.a.Fragment,null))},Ft=function(e){var t,a,n,r=e.message,s=e.me,c=e.userId,i=e.requestRespondedTo,o="chat-m";switch(r.type){case"accessRequest":var l=r.accessRequest;return"Waiting approval"===l.status?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:o+" blue"},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"\u0637\u0644\u0628 \u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u062d\u0642 \u0627\u0644\u0627\u0637\u0644\u0627\u0639 \u0639\u0644\u0649 \u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(l.created_at)))),h.a.createElement("div",{className:"msg"},"patient"===s?h.a.createElement(h.a.Fragment,null,i?h.a.createElement(h.a.Fragment,null,h.a.createElement("p",null,"\u0634\u0643\u0631\u064b\u0627 \u0639\u0644\u0649 \u0627\u0644\u0631\u062f")):h.a.createElement(h.a.Fragment,null,h.a.createElement("h4",null,"\u0627\u0644\u0637\u0628\u064a\u0628 \u0637\u0644\u0628 \u0627\u0644\u0627\u0637\u0644\u0627\u0639 \u0639\u0644\u0649"," ","All"===e.waitingLevel?"\u0643\u0644 \u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629":"\u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629 \u0641\u064a \u0646\u0641\u0633 \u0627\u0644\u062a\u062e\u0635\u0635"),h.a.createElement("p",null,"\u0628\u0631\u062c\u0627\u0621 \u0627\u0644\u0631\u062f \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628"),h.a.createElement(St,{onClick:function(){return e.handleAccessRequestResponse&&e.handleAccessRequestResponse("Approved",e.waitingLevel)}},"\u0623\u0648\u0627\u0641\u0642"),"All"===e.waitingLevel?h.a.createElement(h.a.Fragment,null,h.a.createElement(St,{onClick:function(){return e.handleAccessRequestResponse&&e.handleAccessRequestResponse("Approved","Speciality")}},"\u0623\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 \u0646\u0641\u0633 \u0627\u0644\u062a\u062e\u0635\u0635 \u0641\u0642\u0637")):h.a.createElement(h.a.Fragment,null),h.a.createElement(St,{onClick:function(){return e.handleAccessRequestResponse&&e.handleAccessRequestResponse("Declined")}},"\u0644\u0627 \u0623\u0648\u0627\u0641\u0642"))):h.a.createElement("p",null,"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0631\u062f \u0627\u0644\u0645\u0631\u064a\u0636 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628")))):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:o+" blue"},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"\u0637\u0644\u0628 \u0627\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u062d\u0642 \u0627\u0644\u0627\u0637\u0644\u0627\u0639 \u0639\u0644\u0649 \u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(l.created_at)))),h.a.createElement("div",{className:"msg"},h.a.createElement("h4",null,"\u0627\u0644\u0637\u0628\u064a\u0628 \u0637\u0644\u0628 \u0627\u0644\u0627\u0637\u0644\u0627\u0639 \u0639\u0644\u0649 \u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629"),l&&"Approved"===l.status?h.a.createElement(h.a.Fragment,null,h.a.createElement("p",null,"\u062a\u0645\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0637\u0644\u0627\u0639 \u0627\u0644\u0637\u0628\u064a\u0628 \u0639\u0644\u0649"," ","All"===l.access_level?"\u0643\u0644 \u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629":"\u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629 \u0641\u064a \u0646\u0641\u0633 \u0627\u0644\u062a\u062e\u0635\u0635")):h.a.createElement(h.a.Fragment,null,h.a.createElement("p",null,"\u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u0637\u0644\u0628")))));case"originalQuestion":t="patient"===s?"green":"blue",o="".concat(o," ").concat(t);var u=r.question;return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:o+" green"},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"patient"===s?"\u0623\u0646\u062a":"\u0627\u0644\u0645\u0631\u064a\u0636")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(r.created_at)))),h.a.createElement("div",{className:"msg"},h.a.createElement("p",null,u.description))));case"reply":var p=r.reply;return t="patient"===p.replier.type?"green":"blue",o="".concat(o," ").concat(t),h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:o},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,p.replier.type===s?"\u0623\u0646\u062a":"patient"===s?"\u0627\u0644\u0637\u0628\u064a\u0628":"\u0627\u0644\u0645\u0631\u064a\u0636")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(r.created_at)))),h.a.createElement("div",{className:"msg"},h.a.createElement("p",null,p.reply))));case"answer":return n=r.answer,a=n.question_template,h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:o+" green"},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"\u0625\u062c\u0627\u0628\u0627\u062a \u0627\u0644\u0645\u0631\u064a\u0636 \u0639\u0644\u0649 \u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0637\u0628\u064a\u0628")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(r.created_at)))),h.a.createElement("div",{className:"msg"},("TextInput"===a.question_type||"Textarea"===a.question_type||"SelectList"===a.question_type)&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-text"},h.a.createElement("h4",null,a.question_text_ar),h.a.createElement("p",null,n.question_answer))),"RadioInput"===a.question_type&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-radio"},h.a.createElement("h4",null,a.question_text_ar),h.a.createElement("div",{className:"radio-group"},h.a.createElement("div",{className:"radio"},h.a.createElement("input",{type:"radio",name:"q10",value:n.question_answer,disabled:!0,checked:!0}),h.a.createElement("span",null,n.question_answer))))),"CheckboxInput"===a.question_type&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-check"},h.a.createElement("h4",null,a.question_text_ar),h.a.createElement("div",{className:"checkbox-group"},JSON.parse(n.question_answer).map(function(e){return h.a.createElement("div",{key:e,className:"checkbox"},h.a.createElement("input",{type:"checkbox",name:"q3",value:e,disabled:!0,checked:!0}),h.a.createElement("span",null,e))})))),"FileInput"===a.question_type&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-file"},h.a.createElement("h4",null,a.question_text_ar),JSON.parse(n.question_answer).map(function(e,t){return h.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",key:t,href:oe(e)},h.a.createElement("p",null,le(e)))}))))));case"answerGroup":var m=r.answerGroup;return h.a.createElement(h.a.Fragment,null,m.map(function(e){return n=e.answer,a=n.question_template,h.a.createElement("div",{key:n.id,className:o+" green"},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"\u0625\u062c\u0627\u0628\u0627\u062a \u0627\u0644\u0645\u0631\u064a\u0636 \u0639\u0644\u0649 \u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0637\u0628\u064a\u0628")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(n.created_at)))),h.a.createElement("div",{className:"msg"},("TextInput"===a.question_type||"Textarea"===a.question_type)&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-text"},h.a.createElement("h4",null,a.question_text_ar),h.a.createElement("p",null,n.question_answer))),"RadioInput"===a.question_type&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-radio"},h.a.createElement("h4",null,a.question_text_ar),h.a.createElement("div",{className:"radio-group"},h.a.createElement("div",{className:"radio"},h.a.createElement("input",{type:"radio",name:"q10",value:n.question_answer,disabled:!0,checked:!0}),h.a.createElement("span",null,n.question_answer))))),"CheckboxInput"===a.question_type&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-check"},h.a.createElement("h4",null,a.question_text_ar),h.a.createElement("div",{className:"checkbox-group"},JSON.parse(n.question_answer).map(function(e){return h.a.createElement("div",{key:e,className:"checkbox"},h.a.createElement("input",{type:"checkbox",name:"q3",value:e,disabled:!0,checked:!0}),h.a.createElement("span",null,e))})))),"FileInput"===a.question_type&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-file"},h.a.createElement("h4",null,a.question_text_ar),JSON.parse(n.question_answer).map(function(e,t){return h.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",key:t,href:oe(e)},h.a.createElement("p",null,le(e)))})))))}));case"question":case"questionGroup":return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:o+" blue"},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"\u0623\u0633\u0626\u0644\u0629 \u0645\u0631\u0633\u0644\u0629 \u0645\u0646 \u0627\u0644\u0637\u0628\u064a\u0628")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(r.created_at)))),h.a.createElement("div",{className:"msg"},"patient"===s?h.a.createElement(h.a.Fragment,null,h.a.createElement("p",null,"\u0628\u0631\u062c\u0627\u0621 \u0627\u0644\u0625\u062c\u0627\u0628\u0629 \u0639\u0644\u0649 \u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0645\u0631\u0633\u0644\u0629 \u0645\u0646 \u0627\u0644\u0637\u0628\u064a\u0628"),h.a.createElement("button",{className:"btn",onClick:e.openQuestionPanel},"\u0627\u0636\u063a\u0637 \u0647\u0646\u0627 \u0644\u0644\u0625\u062c\u0627\u0628\u0629")):h.a.createElement("p",null,"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0631\u062f \u0627\u0644\u0645\u0631\u064a\u0636 \u0639\u0644\u0649 \u0627\u0644\u0623\u0633\u0626\u0644\u0629"))));case"transfer":var d=r.transfer;return h.a.createElement(h.a.Fragment,null,"Rejected"!==d.status?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:o+" blue"},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0633\u0624\u0627\u0644 \u0644\u0637\u0628\u064a\u0628 \u0622\u062e\u0631")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(e.updated_at||"")))),h.a.createElement("div",{className:"msg"},h.a.createElement("p",null,"\u0627\u0644\u0637\u0628\u064a\u0628 \u0637\u0644\u0628 \u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0633\u0624\u0627\u0644 \u0644\u0637\u0628\u064a\u0628 \u0622\u062e\u0631"),"Waiting"===d.status?h.a.createElement("p",null,"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0637\u0628\u064a\u0628 \u0627\u0644\u062c\u062f\u064a\u062f"):h.a.createElement("p",null,"\u062a\u0645 \u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u0633\u0624\u0627\u0644 \u064a\u0648\u0645"," ",ie(d.updated_at))))):h.a.createElement(h.a.Fragment,null,"doctor"===s&&c===d.from_doctor.id?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:o+" blue"},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0633\u0624\u0627\u0644 \u0644\u0637\u0628\u064a\u0628 \u0622\u062e\u0631")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(e.updated_at||"")))),h.a.createElement("div",{className:"msg"},h.a.createElement("p",null,"\u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u062a\u062d\u0648\u064a\u0644\u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0644\u0637\u0628\u064a\u0628 \u0622\u062e\u0631 \u0623\u0648 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062a\u062e\u0635\u0635")))):h.a.createElement(h.a.Fragment,null)));case"Closed":return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:o+" blue"},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0633\u0624\u0627\u0644")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(e.updated_at||"")))),h.a.createElement("div",{className:"msg"},h.a.createElement("p",null,"\u062a\u0645 \u0625\u063a\u0644\u0627\u0642 \u0647\u0630\u0627 \u0627\u0644\u0633\u0624\u0627\u0644 \u0641\u064a ",ie(e.updated_at||"")))))}},Dt=function(e){var t=e.doctor,a=e.detailsActive,n=0;return t&&t.name&&(n=(new Date).getFullYear()-new Date(t.birthdate).getFullYear()),h.a.createElement("div",{className:"profile aside".concat("active"===a?"-active":"")},t&&t.name?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"section"},h.a.createElement("div",{className:"title"},h.a.createElement("h3",null,"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0628\u064a\u0628")),h.a.createElement("div",{className:"info w-pic"},h.a.createElement("img",{src:t.picture_url,alt:t.name}),h.a.createElement("p",null,t.name)),h.a.createElement("div",{className:"info"},h.a.createElement("h4",null,"\u0627\u0644\u062c\u0646\u0633"),h.a.createElement("p",null,t.gender)),h.a.createElement("div",{className:"info"},h.a.createElement("h4",null,"\u0627\u0644\u0639\u0645\u0631"),h.a.createElement("p",null,n))),t.education_degrees&&0!==t.education_degrees.length?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"section"},h.a.createElement("div",{className:"title"},h.a.createElement("h3",null,"\u0627\u0644\u062f\u0631\u062c\u0627\u062a \u0627\u0644\u0639\u0644\u0645\u064a\u0629")),t.education_degrees.map(function(e){return h.a.createElement("div",{key:e.id,className:"info w-pic"},h.a.createElement("img",{src:e.picture_url,alt:e.university}),h.a.createElement("p",null,e.degree," ",e.university))}))):h.a.createElement(h.a.Fragment,null),t.doctor_info?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"section"},h.a.createElement("div",{className:"title"},h.a.createElement("h3",null,"\u0639\u0646 \u0627\u0644\u0637\u0628\u064a\u0628")),h.a.createElement("div",{className:"info bio"},h.a.createElement("p",null,t.doctor_info.about)))):h.a.createElement(h.a.Fragment,null)):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"section"},h.a.createElement("div",{className:"title"},h.a.createElement("h3",null,"\u0644\u0645 \u064a\u062a\u0645 \u062a\u0639\u064a\u064a\u0646 \u0637\u0628\u064a\u0628 \u0644\u0647\u0630\u0627 \u0627\u0644\u0633\u0624\u0627\u0644 \u0628\u0639\u062f")))))},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"specialities/".concat(e)},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"question_templates/".concat(e,"/not_required")},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"question_templates/".concat(e,"/required")},Ut=function(){return{type:"NEW_CASE_ACTION_START",excludeRefresh:!0}},Qt=function(){return{type:"NEW_CASE_ACTION_FINISH",excludeRefresh:!0}},Ht=function(){return{type:"NEW_CASE_ACTION_ERROR",excludeRefresh:!0}},Bt=function(e){return{type:"SET_PRIMARY_SPECIALITIES",payload:e}},Yt=function(e){return{type:"SET_SECONDARY_SPECIALITIES",payload:e}},Wt=function(e){return{type:"SET_REQUIRED_QUESTIONS",payload:e}},Gt=function(e){return{type:"SET_INITIAL_NOT_REQUIRED_QUESTIONS",payload:e}},zt=function(e){return{type:"SET_NOT_REQUIRED_QUESTIONS",payload:e}},Jt=function(e){return{type:"SET_INITIAL_REQUIRED_QUESTIONS",payload:e}},Vt=function(e){return{type:"SET_NEW_TO_BE_PAID_CASE",payload:e}},Kt=function(){return{type:"REMOVE_NEW_TO_BE_PAID_CASE"}},Xt=function(){return function(){var e=Object(B.a)(H.a.mark(function e(t){var a,n;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Ut()),e.next=4,W.a.get(Pt());case 4:a=e.sent,(n=a.data).data&&t(Bt(n.data.specialities)),t(Qt()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.error_message&&A.c.error(e.t0.response.data.error_message),t(Ht());case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()},Zt=function(e){return function(){var t=Object(B.a)(H.a.mark(function t(a){var n,r;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Ut()),t.next=4,W.a.get(Pt(e));case 4:n=t.sent,(r=n.data).data&&a(Yt(r.data.specialities)),a(Qt()),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0.response&&t.t0.response.data.error_message&&A.c.error(t.t0.response.data.error_message),a(Ht());case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},$t=function(){return function(){var e=Object(B.a)(H.a.mark(function e(t){var a,n;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Ut()),e.next=4,W.a.get(Mt());case 4:a=e.sent,(n=a.data).data&&t(Jt(n.data.question_templates)),t(Qt()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.error_message&&A.c.error(e.t0.response.data.error_message),t(Ht());case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()},ea=function(e){return function(){var t=Object(B.a)(H.a.mark(function t(a){var n,r;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Ut()),t.next=4,W.a.get(Mt(e));case 4:n=t.sent,(r=n.data).data&&a(Wt(r.data.question_templates)),a(Qt()),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0.response&&t.t0.response.data.error_message&&A.c.error(t.t0.response.data.error_message),a(Ht());case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},ta=function(){return function(){var e=Object(B.a)(H.a.mark(function e(t){var a,n;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Ut()),e.next=4,W.a.get(Lt());case 4:a=e.sent,(n=a.data).data&&t(Gt(n.data.question_templates)),t(Qt()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.error_message&&A.c.error(e.t0.response.data.error_message),t(Ht());case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()},aa=function(e){return function(){var t=Object(B.a)(H.a.mark(function t(a){var n,r;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Ut()),t.next=4,W.a.get(Lt(e));case 4:n=t.sent,(r=n.data).data&&a(zt(r.data.question_templates)),a(Qt()),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0.response&&t.t0.response.data.error_message&&A.c.error(t.t0.response.data.error_message),a(Ht());case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},na=function(){return function(){var e=Object(B.a)(H.a.mark(function e(t){var a,n,r,s,c,i;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Ut()),e.next=4,W.a.get(Pt());case 4:return a=e.sent,(n=a.data).data&&t(Bt(n.data.specialities)),e.next=9,W.a.get(Mt());case 9:return r=e.sent,(s=r.data).data&&t(Jt(s.data.question_templates)),e.next=14,W.a.get(Lt());case 14:c=e.sent,(i=c.data).data&&t(Gt(i.data.question_templates)),t(Qt()),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.error_message&&A.c.error(e.t0.response.data.error_message),t(Ht());case 24:case"end":return e.stop()}},e,null,[[0,20]])}));return function(t){return e.apply(this,arguments)}}()},ra=function(e,t,a){return function(){var n=Object(B.a)(H.a.mark(function n(r){var s,c,i;return H.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(Ut()),s={speciality_id:e,description:t},n.next=5,W.a.post("patient/medical_cases".concat((o=a)?"/"+o:""),s);case 5:if(c=n.sent,!1!==(i=c.data).status&&i.data&&i.data.medical_case){n.next=9;break}throw new Error(i.error_message);case 9:i.data.medical_case&&(r(Ee(i.data.medical_case)),r(Vt(i.data.medical_case))),r(Qt()),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(0),console.log("error:",n.t0),n.t0.response?n.t0.response.data.error_message&&A.c.error(n.t0.response.data.error_message):A.c.error(n.t0.message),r(Ht());case 18:case"end":return n.stop()}var o},n,null,[[0,13]])}));return function(e){return n.apply(this,arguments)}}()},sa=function(){return{type:"TRANSFER_CASE_ACTION_START",excludeRefresh:!0}},ca=function(){return{type:"TRANSFER_CASE_ACTION_FINISH",excludeRefresh:!0}},ia=function(){return{type:"TRANSFER_CASE_ACTION_ERROR",excludeRefresh:!0}},oa=function(e){return{type:"SET_SPECIALITY_DOCTORS",payload:e}},la=function(){return{type:"TRANSFER_REQUEST_SUCCESSFUL",excludeRefresh:!0}},ua=function(){return function(){var e=Object(B.a)(H.a.mark(function e(t){var a,n;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(sa()),e.next=4,W.a.get(Pt());case 4:a=e.sent,(n=a.data).data&&t(Bt(n.data.specialities)),t(ca()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error:",e.t0),e.t0.response&&e.t0.response.data.error_message&&A.c.error(e.t0.response.data.error_message),t(ia());case 15:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()},pa=function(e){return function(){var t=Object(B.a)(H.a.mark(function t(a){var n,r;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(sa()),t.next=4,W.a.get(Pt(e));case 4:n=t.sent,(r=n.data).data&&a(Yt(r.data.specialities)),a(ca()),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("error:",t.t0),t.t0.response&&t.t0.response.data.error_message&&A.c.error(t.t0.response.data.error_message),a(ia());case 15:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},ma=function(e){return function(){var t=Object(B.a)(H.a.mark(function t(a){var n,r,s,c,i;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(sa()),t.next=4,W.a.get("doctors");case 4:if(n=t.sent,!(r=n.data).data){t.next=13;break}return s=r.data.doctors,c=[],t.next=11,s.map(function(e){return e.specialities.map(function(t){return c.push({key:e.id,value:e.name,specialityId:t.id})})});case 11:i=c.filter(function(t){return t.specialityId===e}),a(oa(i));case 13:a(ca()),t.next=21;break;case 16:t.prev=16,t.t0=t.catch(0),console.log("error:",t.t0),t.t0.response&&t.t0.response.data.error_message&&A.c.error(t.t0.response.data.error_message),a(ia());case 21:case"end":return t.stop()}},t,null,[[0,16]])}));return function(e){return t.apply(this,arguments)}}()},da=function(e,t,a){return function(){var n=Object(B.a)(H.a.mark(function n(r){var s;return H.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(sa()),s={speciality_id:a,doctor_id:t},n.next=5,W.a.post((c=e.id,"doctor/case_transfers/transfer_case_by_doctor/".concat(c)),s);case 5:r(La(e,"doctor")),r(la()),r(ca()),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(0),console.log("error:",n.t0),n.t0.response&&n.t0.response.data.error_message&&A.c.error(n.t0.response.data.error_message),r(ia());case 15:case"end":return n.stop()}var c},n,null,[[0,10]])}));return function(e){return n.apply(this,arguments)}}()},ha=function(e,t){return function(){var a=Object(B.a)(H.a.mark(function a(n){var r;return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(sa()),r={speciality_id:t},a.next=5,W.a.post((s=e.id,"doctor/case_transfers/transfer_case_by_speciality/".concat(s)),r);case 5:n(La(e,"doctor")),n(la()),n(ca()),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(0),console.log("error:",a.t0),a.t0.response&&a.t0.response.data.error_message&&A.c.error(a.t0.response.data.error_message),n(ia());case 15:case"end":return a.stop()}var s},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()},fa=function(e,t){return function(){var a=Object(B.a)(H.a.mark(function a(n){return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(sa()),a.next=4,W.a.delete("doctor/case_transfers/".concat(t));case 4:n(La(e,"doctor")),n(ca()),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("error:",a.t0),a.t0.response&&a.t0.response.data.error_message&&A.c.error(a.t0.response.data.error_message),n(ia());case 13:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},Ea=function(){return{type:"HISTORY_ACCESS_ACTION_START",excludeRefresh:!0}},ga=function(){return{type:"HISTORY_ACCESS_ACTION_FINISH",excludeRefresh:!0}},ya=function(){return{type:"HISTORY_ACCESS_ACTION_ERROR",excludeRefresh:!0}},va=function(){return{type:"REQUEST_FULL_ACCESS"}},ba=function(){return{type:"REQUEST_SPECIALITY_ACCESS"}},_a=function(e){return{type:"SET_HISTORY_CASES",payload:e}},Sa=function(e,t,a,n,r,s){return{type:"SET_REQUEST_STATUS_AND_ACCESS_LEVEL",payload:{requestStatus:t,accessLevel:a,historyAccessId:n,waitingApproval:r,waitingLevel:s,allAccessRequests:e||[]}}},Oa=function(e,t){return function(){var a=Object(B.a)(H.a.mark(function a(n){return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(Ea()),a.next=4,W.a.post("doctor/patient_history_access/".concat(t),{access_level:e});case 4:n(ga()),a.next=12;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("error:",a.t0),a.t0.response&&a.t0.response.data.error_message&&A.c.error(a.t0.response.data.error_message),n(ya());case 12:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()},Ca=function(e,t,a){return function(){var n=Object(B.a)(H.a.mark(function n(r){var s,c,i,o,l;return H.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W.a.get("doctor/patient_history_access/patient/".concat(e));case 2:return s=n.sent,c=s.data,i=c.data.medical_cases,o="All"===t?i:i.filter(function(e){return e.speciality_id===a}),l=[],n.next=9,Promise.all(o.map(function(){var e=Object(B.a)(H.a.mark(function e(t){var a,n,r;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get("medical_cases/".concat(t.id));case 2:a=e.sent,n=a.data,r=n.data.medical_case,l.push(r);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 9:r(_a(l));case 10:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},Na=function(e,t,a,n,r){return function(){var a=Object(B.a)(H.a.mark(function a(n){var s,c,i,o,l,u,p,m,d,h,f,E;return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(Ea()),r&&n(Sa([],"","",0,!1,"")),s="doctor"===t.type?"doctor/patient_history_access/medical_case/".concat(e):"patient/patient_history_access/medical_case/".concat(e),a.next=6,W.a.get(s);case 6:c=a.sent,i=c.data,o=i.data.history_accesses,l=[],u="",p="",m=0,d=!1,h="",o&&0!==o.length&&(l="doctor"===t.type?o.filter(function(t){return t.case_id===e}).filter(function(e){return e.doctor_id===t.id}):o.filter(function(t){return t.case_id===e}),(f=l.filter(function(e){return"Waiting approval"===e.status})).length>0?(u="Waiting approval",p=f[f.length-1].access_level,d=!0,h=f[f.length-1].access_level,m=f[f.length-1].id):l.filter(function(e){return"Approved"===e.status&&"All"===e.access_level}).length>0?(u="Approved",p="All"):(l.filter(function(e){return"Declined"===e.status&&"All"===e.access_level}).length>0&&(u="Declined",p="All"),l.filter(function(e){return"Approved"===e.status&&"Speciality"===e.access_level}).length>0?(u="Approved",p="Speciality"):l.filter(function(e){return"Declined"===e.status&&"Speciality"===e.access_level}).length>0&&(u="Declined",p="Speciality"))),E=[],l.forEach(function(e,t){E.push({id:t,type:"accessRequest",created_at:e.created_at,accessRequest:e})}),n(Sa(E,u,p,m,d,h)),n(ga()),a.next=27;break;case 22:a.prev=22,a.t0=a.catch(0),console.log("error:",a.t0),a.t0.response&&a.t0.response.data.error_message&&A.c.error(a.t0.response.data.error_message),n(ya());case 27:case"end":return a.stop()}},a,null,[[0,22]])}));return function(e){return a.apply(this,arguments)}}()},wa=function(e,t){return function(){var a=Object(B.a)(H.a.mark(function a(n){return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(Ea()),a.next=4,W.a.post("patient/patient_history_access/approve/".concat(e),{access_level:t});case 4:n(ga()),a.next=12;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("error:",a.t0),a.t0.response&&a.t0.response.data.error_message&&A.c.error(a.t0.response.data.error_message),n(ya());case 12:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()},Aa=function(e){return function(){var t=Object(B.a)(H.a.mark(function t(a){return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Ea()),t.next=4,W.a.post("patient/patient_history_access/decline/".concat(e));case 4:a(ga()),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error:",t.t0),t.t0.response&&t.t0.response.data.error_message&&A.c.error(t.t0.response.data.error_message),a(ya());case 12:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Ta=function(e){return"case_questions/medical_case/".concat(e,"/answers")},ja=function(e){return"case_questions/medical_case/".concat(e,"/unanswered")},qa=function(e){return"case_transfers/".concat(e)},Ra=function(){return{type:"CHAT_CASE_ACTION_START",excludeRefresh:!0}},ka=function(){return{type:"CHAT_CASE_ACTION_FINISH",excludeRefresh:!0}},Ia=function(){return{type:"CHAT_CASE_ACTION_ERROR",excludeRefresh:!0}},xa=function(e){return{type:"SET_CASE_REPLIES",payload:{replies:e,questions:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],lastReplyId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0}}},Fa=function(e){return{type:"SET_CASE_PATIENT",payload:e}},Da=function(e){return{type:"SET_CASE_DOCTOR",payload:e}},Pa=function(e,t){var a=[],n=[],r=0;e[0].type===t?n.push(e[0]):a.push(e[0]);for(var s=1;s<e.length;s++)if(e[s].type===t)if(0===n.length)n.push(e[s]);else if((r=Date.parse(n[0].created_at)-Date.parse(e[s].created_at))<=6e4&&r>=-6e4)n.push(e[s]);else{if(1===n.length)a.push(n[0]);else{var c="answer"===t?{id:n[0].id,type:"answerGroup",created_at:n[0].created_at,answerGroup:n}:{id:n[0].id,type:"questionGroup",created_at:n[0].created_at,questionGroup:n};a.push(c)}(n=[]).push(e[s])}else if(n.length>1){var i="answer"===t?{id:n[0].id,type:"answerGroup",created_at:n[0].created_at,answerGroup:n}:{id:n[0].id,type:"questionGroup",created_at:n[0].created_at,questionGroup:n};a.push(i),n=[],a.push(e[s])}else 1===n.length?(a.push(n[0]),n=[],a.push(e[s])):a.push(e[s]);if(n.length>1){var o="answer"===t?{id:n[0].id,type:"answerGroup",created_at:n[0].created_at,answerGroup:n}:{id:n[0].id,type:"questionGroup",created_at:n[0].created_at,questionGroup:n};a.push(o),n=[]}else 1===n.length&&(a.push(n[0]),n=[]);return a},La=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(n){n("doctor"===t?Ma(e,a):Ua(e,a))}},Ma=function(e,t){return function(){var a=Object(B.a)(H.a.mark(function a(n){var r,s,c,i,o,l,u,p,m,d,h,f,E,g,y,v,b,_,S;return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(Ra()),t&&n(xa([])),r=[],a.next=6,W.a.get(ue(e.id));case 6:return s=a.sent,(c=s.data).data&&(r=c.data.case_replies),i=0!==r.length?Math.max.apply(Math,r.map(function(e){return e.id})):0,o=[],a.next=13,W.a.get(Ta(e.id));case 13:return l=a.sent,(u=l.data).data&&(o=u.data.answers),p=[],a.next=19,W.a.get(ja(e.id));case 19:return m=a.sent,(d=m.data).data&&(p=d.data.case_questions),h=[],a.next=25,W.a.get(qa(e.id));case 25:f=a.sent,(E=f.data).data&&(h=E.data.case_transfers),y=0,(g=[]).push({id:y++,type:"originalQuestion",created_at:e.created_at,question:e}),r.forEach(function(e){g.push({id:y++,type:"reply",created_at:e.created_at,reply:e})}),o.forEach(function(e){g.push({id:y++,type:"answer",created_at:e.created_at,answer:e})}),p.forEach(function(e){g.push({id:y++,type:"question",created_at:e.created_at,question:e})}),h.forEach(function(e){g.push({id:y++,type:"transfer",created_at:e.created_at,transfer:e})}),0===(v=g.sort(function(e,t){return new Date(e.created_at).getTime()-new Date(t.created_at).getTime()})).length?n(xa([])):(b=Pa(v,"answer"),_=b.filter(function(e){return"question"===e.type}),S=Pa(b,"question"),n(xa(S,_,i))),e.patient&&n(Fa(e.patient)),n(ka()),a.next=46;break;case 41:a.prev=41,a.t0=a.catch(0),console.log("error:",a.t0),a.t0.response&&a.t0.response.data.error_message&&A.c.error(a.t0.response.data.error_message),n(Ia());case 46:case"end":return a.stop()}},a,null,[[0,41]])}));return function(e){return a.apply(this,arguments)}}()},Ua=function(e,t){return function(){var a=Object(B.a)(H.a.mark(function a(n){var r,s,c,i,o,l,u,p,m,d,h,f,E,g,y,v,b,_,S,O,C,N;return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(Ra()),t&&n(xa([])),r=[],a.next=6,W.a.get(ue(e.id));case 6:return s=a.sent,(c=s.data).data&&(r=c.data.case_replies),i=0!==r.length?Math.max.apply(Math,r.map(function(e){return e.id})):0,o=[],a.next=13,W.a.get(Ta(e.id));case 13:return l=a.sent,(u=l.data).data&&(o=u.data.answers),p=[],a.next=19,W.a.get(ja(e.id));case 19:return m=a.sent,(d=m.data).data&&(p=d.data.case_questions),h=[],a.next=25,W.a.get(qa(e.id));case 25:if(f=a.sent,(E=f.data).data&&(h=E.data.case_transfers),g=null,0===e.doctor_id){a.next=36;break}if(!e.doctor){a.next=36;break}return a.next=33,W.a.get((w=e.doctor.id,"doctors/".concat(w)));case 33:y=a.sent,(v=y.data).data&&(g=v.data.doctor);case 36:_=0,(b=[]).push({id:_++,type:"originalQuestion",created_at:e.created_at,question:e}),r.forEach(function(e){b.push({id:_++,type:"reply",created_at:e.created_at,reply:e})}),o.forEach(function(e){b.push({id:_++,type:"answer",created_at:e.created_at,answer:e})}),p.forEach(function(e){b.push({id:_++,type:"question",created_at:e.created_at,question:e})}),h.forEach(function(e){b.push({id:_++,type:"transfer",created_at:e.created_at,transfer:e})}),0===(S=b.sort(function(e,t){return new Date(e.created_at).getTime()-new Date(t.created_at).getTime()})).length?n(xa([])):(O=Pa(S,"answer"),C=O.filter(function(e){return"question"===e.type}),N=Pa(O,"question"),n(xa(N,C,i))),g&&n(Da(g)),n(ka()),a.next=54;break;case 49:a.prev=49,a.t0=a.catch(0),console.log("error:",a.t0),a.t0.response&&a.t0.response.data.error_message&&A.c.error(a.t0.response.data.error_message),n(Ia());case 54:case"end":return a.stop()}var w},a,null,[[0,49]])}));return function(e){return a.apply(this,arguments)}}()},Qa=function(e,t,a){return function(){var n=Object(B.a)(H.a.mark(function n(r){var s;return H.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(Ra()),s={reply:t.reply},n.next=5,W.a.post((c=t.case_id,"case_replies/".concat(c)),s);case 5:r(La(e,a,!0)),r(ka()),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),console.log("error:",n.t0),n.t0.response&&n.t0.response.data.error_message&&A.c.error(n.t0.response.data.error_message),r(Ia());case 14:case"end":return n.stop()}var c},n,null,[[0,9]])}));return function(e){return n.apply(this,arguments)}}()},Ha=function(e,t){return function(){var a=Object(B.a)(H.a.mark(function a(n){return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(Ra()),a.next=4,Promise.all(t.map(function(){var t=Object(B.a)(H.a.mark(function t(a,n){var r;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("file:",a[0]),(r=new FormData).append("question_answer",a[0]),console.log("formData:",r),W.a.defaults.headers.common["Content-Type"]="multipart/form-data",t.next=7,W.a.post(pe(e.id,n),r).catch(function(e){console.log("catch error:",e)});case 7:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()));case 4:n(La(e,"patient",!0)),n(ka()),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("error:",a.t0),a.t0.response&&a.t0.response.data.error_message&&A.c.error(a.t0.response.data.error_message),n(Ia());case 13:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},Ba=function(e,t,a){return function(){var n=Object(B.a)(H.a.mark(function n(r){return H.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(Ra()),n.next=3,t.forEach(function(){var t=Object(B.a)(H.a.mark(function t(n,s){var c,i,o,l,u,p;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=a.filter(function(e){return e.question&&e.question.id===s}),i="",!c[0]||!c[0].question){t.next=19;break}return o=c[0].question,i="CheckboxInput"===o.question_template.question_type?JSON.stringify(n):n,t.prev=5,l={question_answer:i},t.next=9,W.a.post(pe(e.id,s),l);case 9:u=t.sent,(p=u.data).status?p.success_message&&A.c.success("You have successfully answered ".concat(o.question_template.question_text_en)):p.error_message&&A.c.error("Error in question: ".concat(o.question_template.question_text_en)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(5),console.log("error:",t.t0),t.t0.response.status||t.t0.response.error_message&&A.c.error("Error in question: ".concat(o.question_template.question_text_en));case 18:r(La(e,"patient",!0));case 19:case"end":return t.stop()}},t,null,[[5,14]])}));return function(e,a){return t.apply(this,arguments)}}());case 3:r(ka());case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},Ya=function(e,t,a,n){return function(){var r=Object(B.a)(H.a.mark(function r(s){return H.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:s(Na(e,t,a,n,!0));case 1:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},Wa=function(e,t,a,n,r,s,c){return function(){var i=Object(B.a)(H.a.mark(function i(o){return H.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if("Approved"!==t){i.next=5;break}return i.next=3,o(wa(e,a));case 3:i.next=7;break;case 5:return i.next=7,o(Aa(e));case 7:setTimeout(function(){return o(Na(n,r,s,c,!0))},3e3);case 8:case"end":return i.stop()}},i)}));return function(e){return i.apply(this,arguments)}}()},Ga=function(e,t){return function(){var a=Object(B.a)(H.a.mark(function a(n){return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n(fa(e,t));case 1:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},za=function(e){var t=e.input,a=e.label,n=e.className,r=e.meta,s=void 0===r?{touched:!1,error:"",dirty:!1}:r,c=e.wrapperClass,i=e.placeholder,o=c||"input-group-regular",l=s&&s.touched&&s.error?o+" error":o;return h.a.createElement("div",{className:l},h.a.createElement("label",null,a),h.a.createElement("textarea",Object.assign({},t,{className:n||"chat-reply",placeholder:i})),s.touched&&!!s.error&&h.a.createElement("span",{className:"error"},s.error))},Ja=function(e){return h.a.createElement(h.a.Fragment,null,h.a.createElement(D.a,{key:e.question.id,name:"unanswered_case_questions[".concat(e.question.id,"]"),type:"text",component:za,placeholder:"\u0627\u0643\u062a\u0628 \u0625\u062c\u0627\u0628\u062a\u0643 \u0647\u0646\u0627..."}))},Va=a(192),Ka=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return h.a.createElement(Va.a,{multiple:!0,accept:"image/*, application/pdf",onDrop:this.props.handleOnDrop,minSize:0,maxSize:5242880},function(e){var t=e.getInputProps,a=e.isDragActive,n=e.isDragReject,r=(e.acceptedFiles,e.rejectedFiles),s=r.length>0&&r[0].size>5242880;return h.a.createElement(h.a.Fragment,null,h.a.createElement("input",Object.assign({},t(),{name:"file",id:"file"})),a&&!n&&"\u0636\u0639 \u0627\u0644\u0645\u0644\u0641 \u0647\u0646\u0627",n&&"\u0646\u0648\u0639 \u0627\u0644\u0645\u0644\u0641 \u063a\u064a\u0631 \u0645\u0637\u0627\u0628\u0642",s&&h.a.createElement("p",{className:"err-msg"},"\u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641 \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0645\u0633\u0645\u0648\u062d"),h.a.createElement("label",{htmlFor:"file"},"\u062a\u0635\u0641\u062d \u0627\u0644\u0645\u0644\u0641\u0627\u062a"))})}}]),t}(d.Component),Xa=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this;return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"file-input"},h.a.createElement(D.a,{name:"unanswered_case_questions[".concat(this.props.question.id,"]"),type:"file",component:function(){return h.a.createElement(Ka,{handleOnDrop:function(t,a){return e.props.handleOnDrop(t,a,e.props.questionId)}})}})),this.props.uploadedFiles[this.props.questionId]&&this.props.uploadedFiles[this.props.questionId].map(function(t){return h.a.createElement("div",{key:t.name,className:"attache"},h.a.createElement("i",null,t.name,h.a.createElement("span",{onClick:function(){return e.props.removeFile(t,e.props.questionId)}})))}))}}]),t}(d.Component),Za=function(e){return h.a.createElement(h.a.Fragment,null,"specialityOrDoctor"===e.input.name?h.a.createElement("div",{className:"radio-group"},e.options.map(function(t){return h.a.createElement("div",{key:t.value,className:"radio"},h.a.createElement("input",Object.assign({type:"radio"},e.input,{value:t.value,checked:t.value===e.input.value})),h.a.createElement("span",null,t.title))}),e.meta.touched&&!!e.meta.error&&h.a.createElement("span",{className:"err-msg"},e.meta.error)):h.a.createElement(h.a.Fragment,null,e.options.map(function(t){return h.a.createElement("div",{key:t.key,className:"radio"},h.a.createElement("input",Object.assign({type:"radio"},e.input,{value:t.value,checked:t.value===e.input.value})),h.a.createElement("span",{className:"check-mark"},t.value))}),e.meta.touched&&!!e.meta.error&&h.a.createElement("span",{className:"err-msg"},e.meta.error)))},$a=function(e){var t=e.question.question_template.question_options_ar.map(function(e,t){return{label:e,value:e,key:t}});return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"radio-group"},h.a.createElement(D.a,{component:Za,name:"unanswered_case_questions[".concat(e.question.id,"]"),required:!0,options:t})))},en=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).field=function(e){var t=e.input,n=e.meta,r=e.options,s=t.onChange,c=n.touched,i=n.error,o=t.value||[],l=r.map(function(e,t){var n=e.label,r=e.value,c=o.includes(r);return h.a.createElement("div",{key:"checkbox-".concat(t),className:"checkbox"},h.a.createElement("input",{type:"checkbox",name:"".concat(a.props.name,"[").concat(t,"]"),value:r,checked:c,onChange:function(e){var t=Object(Nt.a)(o);return e.target.checked?t.push(r):t.splice(t.indexOf(r),1),s(t)}}),h.a.createElement("span",{className:"check-mark"},n))});return h.a.createElement(h.a.Fragment,null,l,c&&!!i&&h.a.createElement("span",{className:"error"},i))},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return h.a.createElement(D.a,Object.assign({},this.props,{type:"checkbox",component:this.field}))}}]),t}(d.Component),tn=function(e){var t=e.question.question_template.question_options_ar.map(function(e,t){return{label:e,value:e}});return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"checkbox-group"},h.a.createElement(en,{name:"unanswered_case_questions[".concat(e.question.id,"]"),options:t})))},an=function(e){var t=e.question.question_template.question_options_ar.map(function(e,t){return{label:e,value:e,key:e}});return h.a.createElement(h.a.Fragment,null,h.a.createElement(D.a,{key:e.question.id,name:"unanswered_case_questions[".concat(e.question.id,"]"),type:"select",component:rt,options:t}))},nn=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={uploadedFiles:[]},a.handleOnDrop=function(e,t,n){e.map(function(e){var t=a.state.uploadedFiles.slice();return a.state.uploadedFiles[n]?(t[n]=a.state.uploadedFiles[n].slice(),t[n].push(e)):(t[n]=[],t[n].push(e)),a.setState(function(){return{uploadedFiles:t}}),{}})},a.removeFile=function(e,t){var n=a.state.uploadedFiles.slice();n[t].splice(n[t].indexOf(e),1),a.setState(function(){return{uploadedFiles:n}})},a.handleFormSubmit=function(e){a.props.handleSubmitAnswers(a.props.chatCase,e.unanswered_case_questions,a.props.caseUnansweredQuestions)},a.handleUploadFiles=function(){a.props.handleUploadFiles(a.props.chatCase,a.state.uploadedFiles)},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.invalid,n=t.submitting,r=t.pristine,s=t.questionsOrHistoryActive;return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"questions aside".concat("active"===s?"-active":"")},this.props.caseUnansweredQuestions&&0!==this.props.caseUnansweredQuestions.length?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"title"},h.a.createElement("h3",null,"\u0623\u0633\u0626\u0644\u0629 \u0645\u0646 \u0627\u0644\u0637\u0628\u064a\u0628")),this.props.caseUnansweredQuestions.filter(function(e){return"FileInput"===e.question.question_template.question_type}).map(function(t){return h.a.createElement("div",{key:t.id,className:"question"},h.a.createElement("label",null,t.question.question_template.question_text_ar),h.a.createElement(Xa,{question:t.question,handleOnDrop:e.handleOnDrop,removeFile:e.removeFile,uploadedFiles:e.state.uploadedFiles,questionId:t.question.id}),h.a.createElement("div",{className:"upload"},h.a.createElement("button",{className:"btn",onClick:e.handleUploadFiles},"\u0631\u0641\u0639 \u0627\u0644\u0645\u0644\u0641\u0627\u062a")))}),h.a.createElement("form",{onSubmit:this.props.handleSubmit(this.handleFormSubmit)},this.props.caseUnansweredQuestions.filter(function(e){return"TextInput"===e.question.question_template.question_type||"Textarea"===e.question.question_template.question_type||"CheckboxInput"===e.question.question_template.question_type||"RadioInput"===e.question.question_template.question_type||"SelectList"===e.question.question_template.question_type}).map(function(e){return h.a.createElement("div",{key:e.id,className:"question"},h.a.createElement("label",null,e.question.question_template.question_text_ar),"Textarea"===e.question.question_template.question_type||"TextInput"===e.question.question_template.question_type?h.a.createElement(Ja,{question:e.question}):h.a.createElement(h.a.Fragment,null),"CheckboxInput"===e.question.question_template.question_type?h.a.createElement(tn,{question:e.question}):h.a.createElement(h.a.Fragment,null),"RadioInput"===e.question.question_template.question_type?h.a.createElement($a,{question:e.question}):h.a.createElement(h.a.Fragment,null),"SelectList"===e.question.question_template.question_type?h.a.createElement(an,{question:e.question}):h.a.createElement(h.a.Fragment,null))}),h.a.createElement("div",{className:"submit"},h.a.createElement(St,{disabled:a||n||r,type:"submit"},"\u062d\u0641\u0638")))):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"title"},h.a.createElement("h3",null,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0623\u0633\u0626\u0644\u0629 \u062d\u0627\u0644\u064a\u064b\u0627 \u0645\u0646 \u0627\u0644\u0637\u0628\u064a\u0628")))))}}]),t}(d.Component),rn=Object(w.compose)(Object(y.b)(function(e){return{locale:e.global.locale,signedInUser:e.auth.signedInUser,caseChatData:e.chatCase.caseChatData}},l),Object(P.a)({form:"caseQuestionForm",enableReinitialize:!0,validate:function(e){return{}}}))(nn),sn=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidUpdate",value:function(){var e=document.getElementById("messages");e&&e.scrollTo(0,e.scrollHeight)}},{key:"render",value:function(){return this.props.children}}]),t}(h.a.Component),cn=Object(N.g)(sn),on=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={caseChatData:[],caseDoctor:null,caseUnansweredQuestions:[],requestStatus:"",accessLevel:"",historyAccessId:0,waitingApproval:!1,waitingLevel:"",allAccessRequests:[],allChatMessages:[],sidebarActive:"",detailsActive:"",questionsOrHistoryActive:"",requestRespondedTo:!1},a.toggleDoctorDetails=function(e){e.preventDefault(),"active"===a.state.detailsActive?a.setState(function(){return{detailsActive:"",sidebarActive:""}}):a.setState(function(){return{detailsActive:"active",sidebarActive:"sidebar-active"}}),a.setState(function(){return{questionsOrHistoryActive:""}})},a.toggleCaseQuestions=function(e){"active"===a.state.questionsOrHistoryActive?a.setState(function(){return{questionsOrHistoryActive:"",sidebarActive:""}}):a.setState(function(){return{questionsOrHistoryActive:"active",sidebarActive:"sidebar-active"}}),a.setState(function(){return{detailsActive:""}})},a.handleFormSubmit=function(e){a.props.handleSubmitChatReply(a.props.chatCase,{case_id:a.props.chatCase.id,reply:e.chat_reply},a.props.signedInUser.type),a.props.reset()},a.handleAccessRequestResponse=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";a.props.respondToHistoryAccessRequest(a.state.historyAccessId,e,t,a.props.chatCase.id,a.props.signedInUser,a.props.signedInUser.id,a.props.chatCase.speciality_id),a.setState(function(){return{requestRespondedTo:!0}})},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(function(){return{caseChatData:e.props.caseChatData,caseDoctor:e.props.caseDoctor,caseUnansweredQuestions:e.props.caseUnansweredQuestions,requestStatus:e.props.requestStatus,accessLevel:e.props.accessLevel,historyAccessId:e.props.historyAccessId,waitingApproval:e.props.waitingApproval,waitingLevel:e.props.waitingLevel,allChatMessages:[],requestRespondedTo:!1}}),this.props.setChatCaseReplies(this.props.chatCase,"patient",!0),this.props.setHistoryAccessRequestStatus(this.props.chatCase.id,this.props.signedInUser,this.props.signedInUser.id,this.props.chatCase.speciality_id)}},{key:"componentDidUpdate",value:function(e){var t=this;e.caseChatData!==this.props.caseChatData&&this.setState(function(){return{caseChatData:t.props.caseChatData,allChatMessages:[].concat(Object(Nt.a)(t.props.caseChatData),Object(Nt.a)(t.props.allAccessRequests||[])).sort(function(e,t){return new Date(e.created_at).getTime()-new Date(t.created_at).getTime()})}}),e.caseDoctor!==this.props.caseDoctor&&this.setState(function(){return{caseDoctor:t.props.caseDoctor}}),e.caseUnansweredQuestions!==this.props.caseUnansweredQuestions&&this.setState(function(){return{caseUnansweredQuestions:t.props.caseUnansweredQuestions}}),e.requestStatus!==this.props.requestStatus&&this.setState(function(){return{requestStatus:t.props.requestStatus}}),e.accessLevel!==this.props.accessLevel&&this.setState(function(){return{accessLevel:t.props.accessLevel}}),e.historyAccessId!==this.props.historyAccessId&&this.setState(function(){return{historyAccessId:t.props.historyAccessId}}),e.waitingApproval!==this.props.waitingApproval&&this.setState(function(){return{waitingApproval:t.props.waitingApproval}}),e.waitingLevel!==this.props.waitingLevel&&this.setState(function(){return{waitingLevel:t.props.waitingLevel}}),e.allAccessRequests!==this.props.allAccessRequests&&this.setState(function(){return{allAccessRequests:t.props.allAccessRequests,allChatMessages:[].concat(Object(Nt.a)(t.props.caseChatData),Object(Nt.a)(t.props.allAccessRequests||[])).sort(function(e,t){return new Date(e.created_at).getTime()-new Date(t.created_at).getTime()})}}),this.state.caseChatData&&this.state.allChatMessages&&this.props.allAccessRequests&&this.state.allAccessRequests&&0!==this.state.caseChatData.length&&this.state.allChatMessages.length!==this.state.caseChatData.length+this.state.allAccessRequests.length&&this.setState(function(){return{allChatMessages:[].concat(Object(Nt.a)(t.props.caseChatData),Object(Nt.a)(t.props.allAccessRequests||[])).sort(function(e,t){return new Date(e.created_at).getTime()-new Date(t.created_at).getTime()})}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sidebarActive,n=t.detailsActive,r=t.questionsOrHistoryActive;return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"action-bar chat"}),h.a.createElement("div",{className:"container chat sidebar ".concat(a)},h.a.createElement("div",{className:"chat-view"},h.a.createElement(cn,null,h.a.createElement("div",{className:"messages",id:"messages"},this.state.allChatMessages.map(function(t){return h.a.createElement("div",{key:t.id.toString()+(t.accessRequest&&t.accessRequest.status)},h.a.createElement(Ft,{message:t,openQuestionPanel:e.toggleCaseQuestions,waitingLevel:e.state.waitingLevel,handleAccessRequestResponse:e.handleAccessRequestResponse,requestRespondedTo:e.state.requestRespondedTo,me:"patient"}))}),"Closed"===this.props.chatCase.status?h.a.createElement(Ft,{message:{type:"Closed"},updated_at:this.props.chatCase.updated_at}):h.a.createElement(h.a.Fragment,null))),h.a.createElement("div",{className:"new-message"},"Closed"!==this.props.chatCase.status?h.a.createElement("form",{id:"chatReplyForm",onSubmit:this.props.handleSubmit(this.handleFormSubmit)},h.a.createElement(D.a,{name:"chat_reply",component:"textarea",type:"text",placeholder:"\u0627\u0643\u062a\u0628 \u0631\u0633\u0627\u0644\u062a\u0643 \u0647\u0646\u0627..."}),h.a.createElement("div",{className:"chat-actions"},h.a.createElement("button",{className:"btn",type:"submit"},"\u0625\u0631\u0633\u0627\u0644"),h.a.createElement("button",{className:"btn",type:"reset"},"\u0625\u0644\u063a\u0627\u0621"))):h.a.createElement(h.a.Fragment,null)))),h.a.createElement("aside",null,h.a.createElement(It,{toggleDetails:this.toggleDoctorDetails,toggleQuestionsOrHistory:this.toggleCaseQuestions,detailsActive:n,questionsOrHistoryActive:r,removeNote:this.state.caseUnansweredQuestions&&0!==this.state.caseUnansweredQuestions.length}),h.a.createElement(xt,{chatCase:this.props.chatCase}),this.state.caseDoctor&&h.a.createElement(Dt,{doctor:this.state.caseDoctor,detailsActive:n}),h.a.createElement(rn,{caseUnansweredQuestions:this.state.caseUnansweredQuestions,chatCase:this.props.chatCase,questionsOrHistoryActive:r})))}}]),t}(d.Component),ln=Object(w.compose)(Object(y.b)(function(e){return{locale:e.global.locale,signedInUser:e.auth.signedInUser,caseChatData:e.chatCase.caseChatData,caseDoctor:e.chatCase.caseDoctor,caseUnansweredQuestions:e.chatCase.caseUnansweredQuestions,requestStatus:e.historyAccess.requestStatus,accessLevel:e.historyAccess.accessLevel,historyAccessId:e.historyAccess.historyAccessId,waitingApproval:e.historyAccess.waitingApproval,waitingLevel:e.historyAccess.waitingLevel,allAccessRequests:e.historyAccess.allAccessRequests}},l),Object(P.a)({form:"chatReplyForm",enableReinitialize:!0,validate:function(e){return{}}}))(on),un=function(e){var t=e.patient,a=e.detailsActive,n=0;return t&&t.name&&(n=(new Date).getFullYear()-new Date(t.birthdate).getFullYear()),h.a.createElement("div",{className:"profile aside".concat("active"===a?"-active":"")},t&&t.name?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"section"},h.a.createElement("div",{className:"title"},h.a.createElement("h3",null,"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0631\u064a\u0636")),h.a.createElement("div",{className:"info w-pic"},h.a.createElement("img",{src:t.picture_url,alt:t.name}),h.a.createElement("p",null,t.name)),h.a.createElement("div",{className:"info"},h.a.createElement("h4",null,"\u0627\u0644\u062c\u0646\u0633"),h.a.createElement("p",null,t.gender)),h.a.createElement("div",{className:"info"},h.a.createElement("h4",null,"\u0627\u0644\u0639\u0645\u0631"),h.a.createElement("p",null,n)))):h.a.createElement(h.a.Fragment,null))},pn=function(e){var t=e.questionsOrHistoryActive;return h.a.createElement("div",{className:"history aside".concat("active"===t?"-active":"")},e.caseIsClosed?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"info"},h.a.createElement("h4",null,"\u0647\u0630\u0627 \u0627\u0644\u0633\u0624\u0627\u0644 \u0645\u063a\u0644\u0642. \u0644\u0627 \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0627\u0637\u0644\u0627\u0639 \u0639\u0644\u0649 \u062a\u0627\u0631\u064a\u062e \u0647\u0630\u0627 \u0627\u0644\u0645\u0631\u064a\u0636."))):h.a.createElement(h.a.Fragment,null,"Approved"===e.requestStatus?h.a.createElement(h.a.Fragment,null,"All"===e.accessLevel?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"title"},h.a.createElement("h3",null,"\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0645\u0631\u064a\u0636 \u0627\u0644\u0633\u0627\u0628\u0642\u0629"),e.historyCases.map(function(t){return h.a.createElement("div",{className:"section",key:t.id},h.a.createElement("a",{href:"/",onClick:function(a){return e.handleHistoryCaseClick(t)}},h.a.createElement("h4",null,t.description)),h.a.createElement("div",{className:"date"},h.a.createElement("p",null,ie(t.created_at))))}))):h.a.createElement(h.a.Fragment,null," ",e.waitingApproval?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"info"},h.a.createElement("h4",null,"\u0644\u062f\u064a\u0643 \u062d\u0642 \u0627\u0644\u0627\u0637\u0644\u0627\u0639 \u0639\u0644\u0649 \u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0645\u0631\u064a\u0636 \u0627\u0644\u0633\u0627\u0628\u0642\u0629 \u0641\u064a \u0646\u0641\u0633 \u0627\u0644\u062a\u062e\u0635\u0635"),h.a.createElement("h4",null,"\u0637\u0644\u0628 \u0627\u0644\u0627\u0637\u0644\u0627\u0639 \u0639\u0644\u0649 \u0643\u0644 \u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629 \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0631\u062f \u0627\u0644\u0645\u0631\u064a\u0636")),h.a.createElement("div",{className:"title"},h.a.createElement("h3",null,"\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0645\u0631\u064a\u0636 \u0627\u0644\u0633\u0627\u0628\u0642\u0629"),e.historyCases.map(function(t){return h.a.createElement("div",{className:"section",key:t.id},h.a.createElement("a",{href:"/",onClick:function(){return e.handleHistoryCaseClick(t)}},h.a.createElement("h4",null,t.description)),h.a.createElement("div",{className:"date"},h.a.createElement("p",null,ie(t.created_at))))}))):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"title"},h.a.createElement("div",{className:"section"},h.a.createElement("h4",null,"\u0644\u062f\u064a\u0643 \u062d\u0642 \u0627\u0644\u0627\u0637\u0644\u0627\u0639 \u0639\u0644\u0649 \u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0645\u0631\u064a\u0636 \u0627\u0644\u0633\u0627\u0628\u0642\u0629 \u0641\u064a \u0646\u0641\u0633 \u0627\u0644\u062a\u062e\u0635\u0635"),h.a.createElement("h4",null,"\u064a\u0645\u0643\u0646\u0643 \u0637\u0644\u0628 \u0627\u0644\u0627\u0637\u0644\u0627\u0639 \u0639\u0644\u0649 \u0643\u0644 \u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0645\u0631\u064a\u0636 \u0627\u0644\u0633\u0627\u0628\u0642\u0629"),h.a.createElement("button",{onClick:function(){return e.openHistoryAccessModal("one")},className:"btn"},"\u0637\u0644\u0628 \u0627\u0644\u0627\u0637\u0644\u0627\u0639 \u0639\u0644\u0649 \u0643\u0644 \u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629"))),h.a.createElement("div",{className:"title"},h.a.createElement("h3",null,"\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0645\u0631\u064a\u0636 \u0627\u0644\u0633\u0627\u0628\u0642\u0629"),e.historyCases.map(function(t){return h.a.createElement("div",{className:"section",key:t.id},h.a.createElement("a",{href:"/",onClick:function(){return e.handleHistoryCaseClick(t)}},h.a.createElement("h4",null,t.description)),h.a.createElement("div",{className:"date"},h.a.createElement("p",null,ie(t.created_at))))}))))):h.a.createElement(h.a.Fragment,null,e.waitingApproval?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"title"},h.a.createElement("h3",null,"\u062a\u0645 \u0627\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628 \u0625\u0644\u0649 \u0627\u0644\u0645\u0631\u064a\u0636. \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0631\u062f \u0627\u0644\u0645\u0631\u064a\u0636."))):h.a.createElement(h.a.Fragment,null," ",h.a.createElement("div",{className:"title"},h.a.createElement("div",{className:"section"},h.a.createElement("h4",null,"\u064a\u0645\u0643\u0646\u0643 \u0637\u0644\u0628 \u0627\u0644\u0627\u0637\u0644\u0627\u0639 \u0639\u0644\u0649 \u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0645\u0631\u064a\u0636 \u0627\u0644\u0633\u0627\u0628\u0642\u0629"),h.a.createElement("button",{onClick:function(){return e.openHistoryAccessModal("both")},className:"btn"},"\u0637\u0644\u0628 \u0627\u0644\u0627\u0637\u0644\u0627\u0639 \u0639\u0644\u0649 \u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629")))))))},mn=function(e){var t=e.input,a=e.multiple,n=e.options,r=e.label,s=e.meta,c=void 0===s?{touched:!1,error:"",dirty:!1}:s,i=e.wrapperClass,o=e.className,l=i||"input-group-regular",u=c&&c.touched&&c.error?l+" error":l;return h.a.createElement("div",{className:u},h.a.createElement("h4",null,r),h.a.createElement("select",Object.assign({},t,{multiple:a,className:o}),h.a.createElement("option",{value:""}),n&&n.map(function(e){return h.a.createElement("option",{key:e.key,value:e.key},e.value)})),c.touched&&!!c.error&&h.a.createElement("span",{className:"err-msg"},c.error))},dn=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={topLevelSpecialities:[],secondLevelSpecialities:[],hasSecondLevelSpecialities:!1,primarySpecialityID:0,selectedSpecialityID:0,doctorsList:[],transferDoctor:!1,transferRequestedSuccessfully:!1},a.setTopLevelSpecialities=function(){var e=a.props.primarySpecialities;e.length>0&&a.setState(function(){return{topLevelSpecialities:e.map(function(e){return{key:e.id,value:e.title_ar}})}})},a.setSecondLevelSpecialities=function(){var e=a.props.secondarySpecialities;e.length>0&&a.setState(function(){return{secondLevelSpecialities:e.map(function(e){return{key:e.id,value:e.title_ar}}),hasSecondLevelSpecialities:!0}})},a.handleSpecialityChange=function(e){var t=parseInt(e.target.value,10);if("top_level_speciality"===e.target.name)t?(a.props.setSecondLevelSpecialities(t),a.setState(function(){return{primarySpecialityID:t,selectedSpecialityID:t}}),a.state.transferDoctor&&a.props.setSpecialityDoctorsList(t)):a.setState(function(){return{secondLevelSpecialities:[],hasSecondLevelSpecialities:!1,selectedSpecialityID:0}});else if("second_level_speciality"===e.target.name){var n=a.state.primarySpecialityID;t?(a.setState(function(){return{selectedSpecialityID:t}}),a.state.transferDoctor&&a.props.setSpecialityDoctorsList(t)):n&&(a.setState(function(){return{selectedSpecialityID:n}}),a.state.transferDoctor&&a.props.setSpecialityDoctorsList(n))}},a.handleFormSubmit=function(e){console.log("values:",e),"doctor"===e.specialityOrDoctor?a.props.transferCaseToDoctor(a.props.transferCase,e.selected_doctor,a.state.selectedSpecialityID):a.props.transferCaseToSpeciality(a.props.transferCase,a.state.selectedSpecialityID)},a.handleRadioChange=function(e){"doctor"===e.target.value?(a.props.setSpecialityDoctorsList(a.state.selectedSpecialityID),a.setState(function(){return{transferDoctor:!0}})):a.setState(function(){return{transferDoctor:!1}})},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.setTopLevelSpecialities(),this.setState(function(){return{transferRequestedSuccessfully:!1}})}},{key:"componentDidUpdate",value:function(e){var t=this;e.primarySpecialities!==this.props.primarySpecialities&&this.setTopLevelSpecialities(),e.secondarySpecialities!==this.props.secondarySpecialities&&this.setSecondLevelSpecialities(),e.specialityDoctorsList!==this.props.specialityDoctorsList&&this.setState(function(){return{doctorsList:t.props.specialityDoctorsList}}),e.transferRequestedSuccessfully!==this.props.transferRequestedSuccessfully&&this.setState(function(){return{transferRequestedSuccessfully:t.props.transferRequestedSuccessfully}})}},{key:"render",value:function(){var e=this.props,t=e.openTransferCaseDoctorModal,a=e.closeTransferCaseDoctorModal,n=this.state,r=n.topLevelSpecialities,s=n.secondLevelSpecialities,c=n.hasSecondLevelSpecialities,i=n.selectedSpecialityID,o=n.doctorsList,l=n.transferDoctor;return h.a.createElement(h.a.Fragment,null,t?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"modal-wrapper"},h.a.createElement("div",{className:"modal",id:"transfer"},h.a.createElement("div",{className:"close",onClick:a}),h.a.createElement("div",{className:"content"},this.state.transferRequestedSuccessfully?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"header"},h.a.createElement("h4",null,"\u062a\u0645 \u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0628\u0646\u062c\u0627\u062d"),h.a.createElement("button",{className:"btn",type:"reset",onClick:a},"\u0625\u063a\u0644\u0627\u0642"))):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"header"},h.a.createElement("h4",null,"\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0633\u0624\u0627\u0644 \u0625\u0644\u0649 \u0637\u0628\u064a\u0628 \u0622\u062e\u0631 \u0623\u0648 \u062a\u062e\u0635\u0635"),h.a.createElement("p",null,"\u0628\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u062a\u062e\u0635\u0635 \u0623\u0648 \u0637\u0628\u064a\u0628 \u0644\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0633\u0624\u0627\u0644")),h.a.createElement("div",{className:"body"},h.a.createElement("form",{className:"form",onSubmit:this.props.handleSubmit(this.handleFormSubmit)},h.a.createElement(D.a,{name:"top_level_speciality",component:mn,label:"\u0627\u0644\u062a\u062e\u0635\u0635 \u0627\u0644\u0631\u0626\u064a\u0633\u064a",options:r,onChange:this.handleSpecialityChange,className:"select"}),c?h.a.createElement(D.a,{name:"second_level_speciality",component:mn,label:"\u0627\u0644\u062a\u062e\u0635\u0635 \u0627\u0644\u0641\u0631\u0639\u064a",options:s,onChange:this.handleSpecialityChange,className:"select"}):h.a.createElement(h.a.Fragment,null),i?h.a.createElement(h.a.Fragment,null,h.a.createElement(D.a,{component:Za,name:"specialityOrDoctor",required:!0,options:[{key:0,title:"\u062a\u062d\u0648\u064a\u0644 \u0625\u0644\u0649 \u062a\u062e\u0635\u0635 (\u0633\u064a\u062a\u0645 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0637\u0628\u064a\u0628 \u062a\u0644\u0642\u0627\u0626\u064a\u064b\u0627)",value:"speciality"},{key:1,title:"\u062a\u062d\u0648\u064a\u0644 \u0625\u0644\u0649 \u0637\u0628\u064a\u0628",value:"doctor"}],onChange:this.handleRadioChange,className:"radio-group"}),l?h.a.createElement(h.a.Fragment,null,0===o.length?h.a.createElement(h.a.Fragment,null):h.a.createElement(D.a,{name:"selected_doctor",component:mn,label:"\u0627\u0644\u0637\u0628\u064a\u0628",options:o,className:"select"})):h.a.createElement(h.a.Fragment,null),h.a.createElement("button",{className:"btn",type:"submit"},"\u0646\u0642\u0644"),h.a.createElement("button",{className:"btn",type:"reset"},"\u0625\u0644\u063a\u0627\u0621")):h.a.createElement(h.a.Fragment,null)))))))):h.a.createElement(h.a.Fragment,null))}}]),t}(d.Component),hn=Object(w.compose)(Object(y.b)(function(e){return{loading:e.transferCase.loading,signedInUser:e.auth.signedInUser,primarySpecialities:e.newCase.primarySpecialities,secondarySpecialities:e.newCase.secondarySpecialities,specialityDoctorsList:e.transferCase.specialityDoctorsList,transferRequestedSuccessfully:e.transferCase.transferRequestedSuccessfully}},i),Object(P.a)({form:"trasnferCaseForm",enableReinitialize:!0,validate:function(e){var t={};return"doctor"!==e.specialityOrDoctor||e.selected_doctor||(t.selected_doctor="\u0628\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0637\u0628\u064a\u0628"),t}}))(dn),fn=function(e){var t=e.input,a=e.type,n=e.label,r=e.meta,s=void 0===r?{touched:!1,error:"",dirty:!1}:r,c=e.wrapperClass,i=e.placeholder,o=c||"input-group-regular",l=s&&s.touched&&s.error?o+" error":o;return h.a.createElement("div",{className:l},h.a.createElement("label",null,n),h.a.createElement("input",Object.assign({},t,{type:a,className:"chat-reply",placeholder:i})),s.touched&&s.error&&h.a.createElement("span",{className:"error"},s.error))},En=function(){return{type:"QUESTION_TEMPLATE_ACTION_START",excludeRefresh:!0}},gn=function(){return{type:"QUESTION_TEMPLATE_ACTION_FINISH",excludeRefresh:!0}},yn=function(){return{type:"QUESTION_TEMPLATE_ACTION_ERROR",excludeRefresh:!0}},vn=function(e){return{type:"SET_SAVED_QUESTIONS",payload:e}},bn=function(e){return{type:"ADD_QUESTION_TO_TEMPLATE",payload:e}},_n=function(){return{type:"SEND_CASE_QUESTIONS",excludeRefresh:!0}},Sn=function(){return function(){var e=Object(B.a)(H.a.mark(function e(t){var a,n,r;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(En()),a=[],e.next=5,W.a.get("doctor/question_templates");case 5:n=e.sent,(r=n.data).data&&(a=r.data.question_templates,t(vn(a))),t(gn()),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error:",e.t0),e.t0.response&&e.t0.response.data.error_message&&A.c.error(e.t0.response.data.error_message),t(yn());case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()},On=function(e,t,a,n){return function(){var r=Object(B.a)(H.a.mark(function r(s){var c,i,o;return H.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s(En()),c={question_text_en:e,question_text_ar:e,question_type:t,question_options_en:a,question_options_ar:a},r.next=5,W.a.post("doctor/question_templates",c);case 5:i=r.sent,o=i.data,n&&o.data&&s(bn(o.data.question_template)),s(Sn()),s(gn()),r.next=17;break;case 12:r.prev=12,r.t0=r.catch(0),console.log("error:",r.t0),r.t0.response&&r.t0.response.data.error_message&&A.c.error(r.t0.response.data.error_message),s(yn());case 17:case"end":return r.stop()}},r,null,[[0,12]])}));return function(e){return r.apply(this,arguments)}}()},Cn=function(e,t){return function(){var a=Object(B.a)(H.a.mark(function a(n){return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(En()),console.log("questionIds:",e,"caseId:",t),a.next=5,Promise.all(e.map(function(){var e=Object(B.a)(H.a.mark(function e(a){var n,r,s;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={question_template_id:a},e.next=3,W.a.post("doctor/case_questions/".concat(t),n);case 3:r=e.sent,s=r.data,console.log("response:",s);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:n(gn()),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("error:",a.t0),a.t0.response&&a.t0.response.data.error_message&&A.c.error(a.t0.response.data.error_message),n(yn());case 13:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},Nn=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={savedQuestions:[],templateToSend:[],answerType:"",answerOptions:[],newQuestionText:"",newAnswerOption:"",anythingSelected:!1},a.handleRadioChange=function(e){a.setState(function(){return{answerType:e.target.value,answerOptions:[],newAnswerOption:"",anythingSelected:!0}})},a.handleQuestionTextChange=function(e){a.setState(function(){return{newQuestionText:e.target.value}})},a.handleAnswerOptionsTextChange=function(e){a.setState(function(){return{newAnswerOption:e.target.value}})},a.addAnswerOption=function(){var e=a.state.answerOptions.slice();e.push(a.state.newAnswerOption),a.setState(function(){return{answerOptions:e,newAnswerOption:""}})},a.addToTemplate=function(e){a.props.addQuestionToTemplate(a.state.savedQuestions.filter(function(t){return t.id===e})[0])},a.handleSendQuestionTemplate=function(){a.props.sendCaseTemplateQuestions(a.state.templateToSend.map(function(e){return e.id}),a.props.caseId)},a.saveAndAdd=function(){a.handleFormSubmit(!0)},a.handleFormSubmit=function(e){a.props.saveNewQuestion(a.state.newQuestionText,a.state.answerType,a.state.answerOptions,e),a.setState(function(){return{newQuestionText:"",answerOptions:[],anythingSelected:!1}}),a.props.reset()},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.setSavedQuestionsList(),this.setState(function(){return{answerOptions:[]}})}},{key:"componentDidUpdate",value:function(e){var t=this;e.savedQuestions!==this.props.savedQuestions&&this.setState(function(){return{savedQuestions:t.props.savedQuestions}}),e.templateToSend!==this.props.templateToSend&&this.setState(function(){return{templateToSend:t.props.templateToSend}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.openQuestionTemplateModal,n=t.closeQuestionTemplateModal,r=t.loading,s=this.props,c=s.invalid,i=s.submitting,o=s.pristine;return h.a.createElement(h.a.Fragment,null,h.a.createElement(j.a,{isOpen:a,className:"react-big-modal question-template-modal",overlayClassName:"react-modal-overlay",portalClassName:"react-modal-portal",contentLabel:"Questions Template Modal",onRequestClose:n,closeTimeoutMS:300},h.a.createElement("div",{className:"modal-content-wrapper"},h.a.createElement(F,{loading:r}),h.a.createElement("div",{className:"modal-header"},h.a.createElement(St,{icon:"icon",title:"Close Modal",onClick:n,extraclasses:"close-modal"},h.a.createElement("i",{className:"f-icon close-icon"})),h.a.createElement("h3",null,"Send Question Template to Patient")),h.a.createElement("div",{className:"modal-body"},h.a.createElement("div",{className:"half-modal-body-container"},h.a.createElement("div",{className:"half-modal-body"},h.a.createElement("div",{className:"create-new-question"},"This is CREATE A NEW QUESTION part"),h.a.createElement("div",null,"\u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0633\u0624\u0627\u0644 \u0648\u062a\u062d\u062f\u064a\u062f \u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u0625\u062c\u0627\u0628\u0629"),h.a.createElement("form",{onSubmit:this.props.handleSubmit(function(){return e.handleFormSubmit(!1)})},h.a.createElement("div",null,"\u0623\u062f\u062e\u0644 \u0627\u0644\u0633\u0624\u0627\u0644 \u0647\u0646\u0627"),h.a.createElement(D.a,{key:"newCreatedQuestionText",name:"newCreatedQuestionText",required:!0,type:"text",component:fn,onChange:this.handleQuestionTextChange,placeholder:this.state.newQuestionText}),h.a.createElement("div",null,"\u0646\u0648\u0639 \u0627\u0644\u0625\u062c\u0627\u0628\u0629"),h.a.createElement(D.a,{component:Za,name:"answer-type",required:!0,options:[{key:0,title:"TextInput",value:"TextInput"},{key:1,title:"Textarea",value:"Textarea"},{key:2,title:"RadioGroup",value:"RadioGroup"},{key:3,title:"CheckboxInput",value:"CheckboxInput"},{key:4,title:"FileInput",value:"FileInput"}],onChange:this.handleRadioChange}),this.state.anythingSelected&&"TextInput"===this.state.answerType?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",null,"\u0634\u0643\u0644 \u062e\u0627\u0646\u0629 \u0627\u0644\u0625\u062c\u0627\u0628\u0629"),h.a.createElement(D.a,{key:"question-text-input-answer",name:"question-text-input-answer",required:!1,type:"text",component:fn})):h.a.createElement(h.a.Fragment,null),this.state.anythingSelected&&"Textarea"===this.state.answerType?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",null,"\u0634\u0643\u0644 \u062e\u0627\u0646\u0629 \u0627\u0644\u0625\u062c\u0627\u0628\u0629"),h.a.createElement(D.a,{key:"question-text-area-answer",name:"question-text-area-answer",required:!1,type:"text",component:za})):h.a.createElement(h.a.Fragment,null),this.state.anythingSelected&&"RadioGroup"===this.state.answerType?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",null,"\u0627\u0644\u0627\u062e\u062a\u064a\u0627\u0631\u0627\u062a"),this.state.answerOptions.map(function(e){return h.a.createElement("div",{key:e,className:"answer-option"},e)}),h.a.createElement(D.a,{key:"question-answer-option",name:"question-answer-option",required:!1,type:"text",component:fn,onChange:this.handleAnswerOptionsTextChange,placeholder:this.state.newAnswerOption}),h.a.createElement(St,{size:"small",theme:"grey",onClick:this.addAnswerOption},"Add Option")):h.a.createElement(h.a.Fragment,null),this.state.anythingSelected&&"CheckboxInput"===this.state.answerType?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",null,"\u0627\u0644\u0627\u062e\u062a\u064a\u0627\u0631\u0627\u062a"),this.state.answerOptions.map(function(e){return h.a.createElement("div",{key:e,className:"answer-option"},e)}),h.a.createElement(D.a,{key:"question-answer-option",name:"question-answer-option",required:!1,type:"text",component:fn,onChange:this.handleAnswerOptionsTextChange,placeholder:this.state.newAnswerOption}),h.a.createElement(St,{size:"small",theme:"grey",onClick:this.addAnswerOption},"Add Option")):h.a.createElement(h.a.Fragment,null),this.state.anythingSelected&&"FileInput"===this.state.answerType?h.a.createElement(h.a.Fragment,null,h.a.createElement(D.a,{key:"question-file-input-answer",name:"question-file-input-answer",required:!1,type:"file",component:Ka})):h.a.createElement(h.a.Fragment,null),h.a.createElement(St,{disabled:c||i||o,size:"small",theme:"green",onClick:this.saveAndAdd},"Save & Add to Template"),h.a.createElement(St,{disabled:c||i||o,type:"submit",size:"small",theme:"blue"},"Save")),this.state.savedQuestions.map(function(t){return h.a.createElement("div",{key:t.id,className:"saved-question"},h.a.createElement("div",null,"Question: ",t.question_text_ar),h.a.createElement("div",null,"Question Type: ",t.question_type),t.question_options_ar.map(function(e){return h.a.createElement("div",{key:e,className:"answer-option"},e)}),h.a.createElement(St,{size:"small",theme:"green",onClick:function(){return e.addToTemplate(t.id)}},"Add to Template"))})),h.a.createElement("div",{className:"half-modal-body"},h.a.createElement("p",null,"Click below to send question template to patient"),this.state.templateToSend.map(function(e){return h.a.createElement("div",{key:e.id,className:"saved-question"},h.a.createElement("div",null,"Question: ",e.question_text_ar),h.a.createElement("div",null,"Question Type: ",e.question_type),e.question_options_ar.map(function(e){return h.a.createElement("div",{key:e,className:"answer-option"},e)}))}),h.a.createElement(St,{size:"small",theme:"green",onClick:this.handleSendQuestionTemplate},"Send Template")))))))}}]),t}(d.Component),wn=Object(w.compose)(Object(y.b)(function(e){return{loading:e.global.loading,savedQuestions:e.questionTemplate.savedQuestions,templateToSend:e.questionTemplate.templateToSend}},u),Object(P.a)({form:"createNewQuestionForm",enableReinitialize:!0}))(Nn),An=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={histroyAccessRequested:!1},a.handleAccessRequest=function(e){a.props.requestHistoryAccess(e,a.props.caseId),a.setState(function(){return{histroyAccessRequested:!0}}),a.props.requestStatusUpdate()},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.openHistoryAccessModal,n=t.closeHistoryAccessModal,r=t.whichButton,s=t.loading,c=this.state.histroyAccessRequested;return h.a.createElement(h.a.Fragment,null,h.a.createElement(j.a,{isOpen:a,className:"react-modal history-access-modal",overlayClassName:"react-modal-overlay",portalClassName:"react-modal-portal",contentLabel:"Request History Access Modal",onRequestClose:n,closeTimeoutMS:300},h.a.createElement("div",{className:"modal-content-wrapper"},h.a.createElement(F,{loading:s}),h.a.createElement("div",{className:"modal-header"},h.a.createElement(St,{icon:"icon",title:"Close Modal",onClick:n,extraclasses:"close-modal"},h.a.createElement("i",{className:"f-icon close-icon"})),h.a.createElement("h3",null,"Request History Access from Patient")),h.a.createElement("div",{className:"modal-body"},c?h.a.createElement(h.a.Fragment,null,"Access Request Sent to Patient!",h.a.createElement(St,{type:"submit",size:"big",theme:"black",onClick:n},"Close this window!")):h.a.createElement(h.a.Fragment,null,h.a.createElement(St,{type:"submit",size:"big",theme:"black",onClick:function(){return e.handleAccessRequest("All")}},"Request Full Access"),h.a.createElement("br",null),"both"===r?h.a.createElement(h.a.Fragment,null,h.a.createElement("br",null),h.a.createElement(St,{type:"submit",size:"big",theme:"black",onClick:function(){return e.handleAccessRequest("Speciality")}},"Request Access to Speciality Cases")):h.a.createElement(h.a.Fragment,null))))))}}]),t}(d.Component),Tn=Object(w.compose)(Object(y.b)(function(e){return{loading:e.global.loading}},o))(An),jn=function(e){var t,a,n,r,s=e.message,c=e.me,i="chat-m";switch(s.type){case"originalQuestion":return t="patient"===c?"green":"blue",i="".concat(i," ").concat(t),h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:i},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"patient"===c?"\u0623\u0646\u062a":"\u0627\u0644\u0645\u0631\u064a\u0636")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(s.created_at)))),h.a.createElement("div",{className:"msg"},h.a.createElement("p",null,s.question.description))));case"reply":return t=c===s.reply.replier.type?"green":"blue",i="".concat(i," ").concat(t),h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:i},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,s.reply.replier.type===c?"\u0623\u0646\u062a":"patient"===c?"\u0627\u0644\u0637\u0628\u064a\u0628":"\u0627\u0644\u0645\u0631\u064a\u0636")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(s.created_at)))),h.a.createElement("div",{className:"msg"},h.a.createElement("p",null,s.reply.reply))));case"answer":return a=s.answer,n=a.question_template,h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:i},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"\u0625\u062c\u0627\u0628\u0627\u062a \u0627\u0644\u0645\u0631\u064a\u0636 \u0639\u0644\u0649 \u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0637\u0628\u064a\u0628")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(s.created_at)))),h.a.createElement("div",{className:"msg"},"TextInput"===n.question_type||"Textarea"===n.question_type?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-text"},h.a.createElement("h4",null,n.question_text_ar),h.a.createElement("p",null,a.question_answer))):h.a.createElement(h.a.Fragment,null),"RadioInput"===n.question_type?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-radio"},h.a.createElement("h4",null,n.question_text_ar),h.a.createElement("div",{className:"radio-group"},n.question_options_ar.map(function(e){return h.a.createElement("div",{key:e,className:"radio"},h.a.createElement("input",{type:"radio",name:"q10",value:e,disabled:!0,checked:a.question_answer===e}),h.a.createElement("span",null,e))})))):h.a.createElement(h.a.Fragment,null),"CheckboxInput"===n.question_type?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-check"},h.a.createElement("h4",null,n.question_text_ar),h.a.createElement("div",{className:"checkbox-group"},n.question_options_ar.map(function(e){return h.a.createElement("div",{key:e,className:"checkbox"},h.a.createElement("input",{type:"checkbox",name:"q3",value:e,disabled:!0,checked:JSON.parse(a.question_answer).indexOf(e)>=0}),h.a.createElement("span",null,e))})))):h.a.createElement(h.a.Fragment,null),"FileInput"===n.question_type?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-file"},h.a.createElement("h4",null,n.question_text_ar),JSON.parse(a.question_answer).map(function(e){return h.a.createElement("a",{key:e.name,href:e.url},h.a.createElement("p",null,e.name))}))):h.a.createElement(h.a.Fragment,null))));case"answerGroup":var o=s.answerGroup;return h.a.createElement(h.a.Fragment,null,o.map(function(e){return a=e.answer,n=a.question_template,h.a.createElement("div",{key:a.id,className:i},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"\u0625\u062c\u0627\u0628\u0627\u062a \u0627\u0644\u0645\u0631\u064a\u0636 \u0639\u0644\u0649 \u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0637\u0628\u064a\u0628")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(a.created_at)))),h.a.createElement("div",{className:"msg"},"TextInput"===n.question_type||"Textarea"===n.question_type?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-text"},h.a.createElement("h4",null,n.question_text_ar),h.a.createElement("p",null,a.question_answer))):h.a.createElement(h.a.Fragment,null),"RadioInput"===n.question_type?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-radio"},h.a.createElement("h4",null,n.question_text_ar),h.a.createElement("div",{className:"radio-group"},n.question_options_ar.map(function(e){return h.a.createElement("div",{key:e,className:"radio"},h.a.createElement("input",{type:"radio",name:"q10",value:e,disabled:!0,checked:a.question_answer===e}),h.a.createElement("span",null,e))})))):h.a.createElement(h.a.Fragment,null),"CheckboxInput"===n.question_type?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-check"},h.a.createElement("h4",null,n.question_text_ar),h.a.createElement("div",{className:"checkbox-group"},n.question_options_ar.map(function(e){return h.a.createElement("div",{key:e,className:"checkbox"},h.a.createElement("input",{type:"checkbox",name:"q3",value:e,disabled:!0,checked:JSON.parse(a.question_answer).indexOf(e)>=0}),h.a.createElement("span",null,e))})))):h.a.createElement(h.a.Fragment,null),"FileInput"===n.question_type?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"q-file"},h.a.createElement("h4",null,n.question_text_ar),JSON.parse(a.question_answer).map(function(e){return h.a.createElement("a",{key:e.name,href:e.url},h.a.createElement("p",null,a.question_answer))}))):h.a.createElement(h.a.Fragment,null)))}));case"transfer":var l=s.transfer;return r=e.updated_at,h.a.createElement(h.a.Fragment,null,"Rejected"!==l.status?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:i},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0633\u0624\u0627\u0644 \u0644\u0637\u0628\u064a\u0628 \u0622\u062e\u0631")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(r)))),h.a.createElement("div",{className:"msg"},h.a.createElement("p",null,"\u0627\u0644\u0637\u0628\u064a\u0628 \u0637\u0644\u0628 \u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0633\u0624\u0627\u0644 \u0644\u0637\u0628\u064a\u0628 \u0622\u062e\u0631"),"Waiting"===l.status?h.a.createElement("p",null,"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0642\u0628\u0644 \u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0633\u0624\u0627\u0644"):h.a.createElement("p",null,"\u062a\u0645 \u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u0633\u0624\u0627\u0644 \u064a\u0648\u0645 ",ie(r))))):h.a.createElement(h.a.Fragment,null,"doctor"===c?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:i},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0633\u0624\u0627\u0644 \u0644\u0637\u0628\u064a\u0628 \u0622\u062e\u0631")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(r)))),h.a.createElement("div",{className:"msg"},h.a.createElement("p",null,"\u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u062a\u062d\u0648\u064a\u0644")))):h.a.createElement(h.a.Fragment,null)));case"Closed":return r=e.updated_at,h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:i},h.a.createElement("div",{className:"header"},h.a.createElement("div",{className:"sender"},h.a.createElement("h4",null,"\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0633\u0624\u0627\u0644")),h.a.createElement("div",{className:"date"},h.a.createElement("span",null,ie(r)))),h.a.createElement("div",{className:"msg"},h.a.createElement("p",null,"\u062a\u0645 \u0625\u063a\u0644\u0627\u0642 \u0647\u0630\u0627 \u0627\u0644\u0633\u0624\u0627\u0644 \u0641\u064a ",ie(r)))))}return h.a.createElement(h.a.Fragment,null)},qn=function(){return{type:"HISTORY_CASE_ACTION_START",excludeRefresh:!0}},Rn=function(){return{type:"HISTORY_CASE_ACTION_FINISH",excludeRefresh:!0}},kn=function(){return{type:"HISTORY_CASE_ACTION_ERROR",excludeRefresh:!0}},In=function(e){return{type:"SET_HISTORY_CASE_REPLIES",payload:e}},xn=function(e,t,a){return function(){var n=Object(B.a)(H.a.mark(function n(r){var s,c,i,o,l,u,p,m,d,h,f,E,g;return H.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(qn()),a&&r(In([])),s=[],n.next=6,W.a.get(ue(e));case 6:return c=n.sent,(i=c.data).data&&(s=i.data.case_replies),o=[],n.next=12,W.a.get(Ta(e));case 12:return l=n.sent,(u=l.data).data&&(o=u.data.answers),p=[],n.next=18,W.a.get(qa(e));case 18:m=n.sent,(d=m.data).data&&(p=d.data.case_transfers),f=0,(h=[]).push({id:f++,type:"originalQuestion",created_at:t.created_at,question:t}),s.forEach(function(e){h.push({id:f++,type:"reply",created_at:e.created_at,reply:e})}),o.forEach(function(e){h.push({id:f++,type:"answer",created_at:e.created_at,answer:e})}),p.forEach(function(e){h.push({id:f++,type:"transfer",created_at:e.created_at,transfer:e})}),0===(E=h.sort(function(e,t){return new Date(e.created_at).getTime()-new Date(t.created_at).getTime()})).length?r(In([])):(g=Pa(E,"answer"),r(In(g))),r(Rn()),n.next=37;break;case 32:n.prev=32,n.t0=n.catch(0),console.log("error:",n.t0),n.t0.response&&n.t0.response.data.error_message&&A.c.error(n.t0.response.data.error_message),r(kn());case 37:case"end":return n.stop()}},n,null,[[0,32]])}));return function(e){return n.apply(this,arguments)}}()},Fn=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={historyCaseChatData:[]},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;e.historyCase!==this.props.historyCase&&(this.setState(function(){return{historyCase:t.props.historyCase}}),this.props.setHistoryCaseReplies(this.props.historyCase.id,this.props.historyCase,!0)),e.historyCaseChatData!==this.props.historyCaseChatData&&this.setState(function(){return{historyCaseChatData:t.props.historyCaseChatData}})}},{key:"render",value:function(){var e=this.props,t=e.openHistoryCaseModal,a=e.historyCase,n=e.closeHistoryCaseModal,r=this.state.historyCaseChatData;return h.a.createElement(h.a.Fragment,null,a?h.a.createElement(h.a.Fragment,null,t?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"modal-wrapper"},h.a.createElement("div",{className:"modal",id:"case_history"},h.a.createElement("div",{className:"close",onClick:n}),h.a.createElement("div",{className:"info-bar"},h.a.createElement("p",null,"\u062a\u0627\u0631\u064a\u062e \u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u0633\u0624\u0627\u0644",h.a.createElement("span",null,ie(a.created_at))),h.a.createElement("p",null,"\u0627\u0644\u062a\u062e\u0635\u0635",h.a.createElement("span",null,a.speciality.title_ar)),h.a.createElement("p",null,"\u0627\u0644\u0637\u0628\u064a\u0628",h.a.createElement("span",null,a.doctor&&a.doctor.name)),h.a.createElement("p",null,"\u062a\u0627\u0631\u064a\u062e \u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0633\u0624\u0627\u0644",h.a.createElement("span",null,ie(a.updated_at)))),h.a.createElement("div",{className:"content"},h.a.createElement("div",{className:"body"},h.a.createElement("div",{className:"messages"},r.map(function(e){return h.a.createElement("div",{key:e.id},h.a.createElement(jn,{message:e,me:"doctor"}))}),h.a.createElement(jn,{message:{type:"Closed"},updated_at:a.updated_at}))))))):h.a.createElement(h.a.Fragment,null)):h.a.createElement(h.a.Fragment,null))}}]),t}(d.Component),Dn=Object(w.compose)(Object(y.b)(function(e){return{loading:e.global.loading,historyCaseChatData:e.historyCase.historyCaseChatData}},p))(Fn),Pn=a(178),Ln=a.n(Pn),Mn=a(179),Un=a.n(Mn),Qn=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={caseChatData:[],openHistoryAccessModal:!1,openTransferCaseDoctorModal:!1,openQuestionTemplateModal:!1,openHistoryCaseModal:!1,requestStatus:"",accessLevel:"",waitingApproval:!1,allAccessRequests:[],whichButton:"both",allChatMessages:[],historyCases:[],sidebarActive:"",detailsActive:"",questionsOrHistoryActive:""},a.togglePatientDetails=function(e){e.preventDefault(),"active"===a.state.detailsActive?a.setState(function(){return{detailsActive:"",sidebarActive:""}}):a.setState(function(){return{detailsActive:"active",sidebarActive:"sidebar-active"}}),a.setState(function(){return{questionsOrHistoryActive:""}})},a.togglePatientHistory=function(e){e.preventDefault(),"active"===a.state.questionsOrHistoryActive?a.setState(function(){return{questionsOrHistoryActive:"",sidebarActive:""}}):a.setState(function(){return{questionsOrHistoryActive:"active",sidebarActive:"sidebar-active"}}),a.setState(function(){return{detailsActive:""}})},a.handleFormSubmit=function(e){a.props.handleSubmitChatReply(a.props.chatCase,{case_id:a.props.chatCase.id,reply:e.chat_reply},a.props.signedInUser.type),a.props.reset()},a.handleOpenTransferCaseModal=function(){a.setState(function(){return{openTransferCaseDoctorModal:!0}})},a.handleCloseTransferCaseModal=function(){a.setState(function(){return{openTransferCaseDoctorModal:!1}})},a.handleOpenQuestionTemplateModal=function(){a.setState(function(){return{openQuestionTemplateModal:!0}})},a.handleCloseQuestionTemplateModal=function(){a.setState(function(){return{openQuestionTemplateModal:!1}})},a.handleOpenHistoryAccessModal=function(e){a.setState(function(){return{openHistoryAccessModal:!0,whichButton:e}})},a.handleCloseHistoryAccessModal=function(){a.setState(function(){return{openHistoryAccessModal:!1}})},a.handleOpenHistoryCaseModal=function(){a.setState(function(){return{openHistoryCaseModal:!0}})},a.handleCloseHistoryCaseModal=function(e){a.setState(function(){return{openHistoryCaseModal:!1}})},a.requestStatusUpdate=function(){a.setState(function(){return{waitingApproval:!0}})},a.handleHistoryCaseClick=function(e){a.setState(function(){return{historyCase:e}}),a.handleOpenHistoryCaseModal()},a.handleDeleteTransferRequest=function(e){a.props.deleteTransferRequest(a.props.chatCase,e)},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.setChatCaseReplies(this.props.chatCase,"doctor",!0),this.props.setHistoryAccessRequestStatus(this.props.chatCase.id,this.props.signedInUser,this.props.chatCase.patient.id,0===this.props.chatCase.speciality.parent_id?this.props.chatCase.speciality.id:this.props.chatCase.speciality.parent_id)}},{key:"componentDidUpdate",value:function(e){var t=this;e.caseChatData!==this.props.caseChatData&&this.setState(function(){return{caseChatData:t.props.caseChatData}}),e.casePatient!==this.props.casePatient&&this.setState(function(){return{casePatient:t.props.casePatient}}),e.requestStatus!==this.props.requestStatus&&this.setState(function(){return{requestStatus:t.props.requestStatus}}),e.accessLevel!==this.props.accessLevel&&this.setState(function(){return{accessLevel:t.props.accessLevel}}),e.historyCases!==this.props.historyCases&&this.setState(function(){return{historyCases:t.props.historyCases}}),e.waitingApproval!==this.props.waitingApproval&&this.setState(function(){return{waitingApproval:t.props.waitingApproval}}),e.allAccessRequests!==this.props.allAccessRequests&&this.setState(function(){return{allAccessRequests:t.props.allAccessRequests}}),0!==this.state.caseChatData.length&&this.state.allChatMessages.length!==this.state.caseChatData.length+this.state.allAccessRequests.length&&this.setState(function(){return{allChatMessages:[].concat(Object(Nt.a)(t.props.caseChatData),Object(Nt.a)(t.props.allAccessRequests||[])).sort(function(e,t){return new Date(e.created_at).getTime()-new Date(t.created_at).getTime()})}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sidebarActive,n=t.detailsActive,r=t.questionsOrHistoryActive;return h.a.createElement(h.a.Fragment,null,h.a.createElement(Tn,{openHistoryAccessModal:this.state.openHistoryAccessModal,closeHistoryAccessModal:this.handleCloseHistoryAccessModal,requestStatusUpdate:this.requestStatusUpdate,caseId:this.props.chatCase.id,whichButton:this.state.whichButton}),h.a.createElement(hn,{openTransferCaseDoctorModal:this.state.openTransferCaseDoctorModal,closeTransferCaseDoctorModal:this.handleCloseTransferCaseModal,transferCase:this.props.chatCase}),h.a.createElement(wn,{openQuestionTemplateModal:this.state.openQuestionTemplateModal,closeQuestionTemplateModal:this.handleCloseQuestionTemplateModal,caseId:this.props.chatCase.id}),this.state.historyCase&&h.a.createElement(Dn,{openHistoryCaseModal:this.state.openHistoryCaseModal,closeHistoryCaseModal:this.handleCloseHistoryCaseModal,historyCase:this.state.historyCase}),h.a.createElement("div",{className:"action-bar chat"},h.a.createElement("div",{className:"actions left"},h.a.createElement("div",{className:"single"},h.a.createElement("button",{onClick:this.handleOpenTransferCaseModal,className:"btn"},"\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u062d\u0627\u0644\u0629",h.a.createElement("span",null,h.a.createElement("img",{src:Ln.a,alt:"\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u062d\u0627\u0644\u0629"})))),h.a.createElement("div",{className:"single"},h.a.createElement("button",{onClick:this.handleOpenQuestionTemplateModal,className:"btn"},"\u0625\u0646\u0634\u0627\u0621 / \u0625\u0631\u0633\u0627\u0644 \u0646\u0645\u0648\u0630\u062c \u0623\u0633\u0626\u0644\u0629",h.a.createElement("span",null,h.a.createElement("img",{src:Un.a,alt:"\u0625\u0646\u0634\u0627\u0621 / \u0625\u0631\u0633\u0627\u0644 \u0646\u0645\u0648\u0630\u062c \u0623\u0633\u0626\u0644\u0629"})))))),h.a.createElement("div",{className:"container chat sidebar ".concat(a)},h.a.createElement("div",{className:"chat-view"},h.a.createElement(cn,null,h.a.createElement("div",{className:"messages",id:"messages"},this.state.allChatMessages.map(function(t){return h.a.createElement("div",{key:t.id+(t.accessRequest?t.accessRequest.status:"")},h.a.createElement(Ft,{message:t,me:"doctor",userId:e.props.signedInUser.id}))}),"Closed"===this.props.chatCase.status?h.a.createElement(Ft,{message:{type:"Closed"},updated_at:this.props.chatCase.updated_at}):h.a.createElement(h.a.Fragment,null))),h.a.createElement("div",{className:"new-message"},"Closed"!==this.props.chatCase.status?h.a.createElement("form",{id:"chatReplyForm",onSubmit:this.props.handleSubmit(this.handleFormSubmit)},h.a.createElement(D.a,{name:"chat_reply",type:"text",component:za,placeholder:"\u0627\u0643\u062a\u0628 \u0631\u0633\u0627\u0644\u062a\u0643 \u0647\u0646\u0627..."}),h.a.createElement("div",{className:"chat-actions"},h.a.createElement("button",{className:"btn",type:"submit"},"\u0625\u0631\u0633\u0627\u0644"),h.a.createElement("button",{className:"btn",type:"reset"},"\u0625\u0644\u063a\u0627\u0621"))):h.a.createElement(h.a.Fragment,null)))),h.a.createElement("aside",null,h.a.createElement(It,{toggleDetails:this.togglePatientDetails,toggleQuestionsOrHistory:this.togglePatientHistory,detailsActive:n,questionsOrHistoryActive:r,removeNote:!0}),h.a.createElement(xt,{chatCase:this.props.chatCase}),h.a.createElement(un,{patient:this.state.casePatient,detailsActive:n}),h.a.createElement(pn,{caseIsClosed:"Closed"===this.props.chatCase.status,openHistoryAccessModal:this.handleOpenHistoryAccessModal,requestStatus:this.state.requestStatus,accessLevel:this.state.accessLevel,historyCases:this.state.historyCases,handleHistoryCaseClick:this.handleHistoryCaseClick,waitingApproval:this.state.waitingApproval,questionsOrHistoryActive:r})))}}]),t}(d.Component),Hn=Object(w.compose)(Object(y.b)(function(e){return{locale:e.global.locale,signedInUser:e.auth.signedInUser,caseChatData:e.chatCase.caseChatData,casePatient:e.chatCase.casePatient,caseUnansweredQuestions:e.chatCase.caseUnansweredQuestions,requestStatus:e.historyAccess.requestStatus,accessLevel:e.historyAccess.accessLevel,historyCases:e.historyAccess.historyCases,waitingApproval:e.historyAccess.waitingApproval,allAccessRequests:e.historyAccess.allAccessRequests}},l),Object(P.a)({form:"chatReplyForm",enableReinitialize:!0,validate:function(e){return{}}}))(Qn),Bn=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props.match.params,t=parseInt(e.caseId,10);if(!this.props.authenticated||!t)return h.a.createElement(N.a,{to:"/"});var a=this.props.signedInUser,n=this.props.medicalCases.find(function(e){return e.id===t});return n||"patient"!==a.type?n||"doctor"!==a.type||this.props.setDoctorCasesList(a):this.props.setPatientCasesList(a),n&&"doctor"===a.type?h.a.createElement(Hn,{chatCase:n}):n&&"patient"===a.type?h.a.createElement(ln,{chatCase:n}):h.a.createElement(h.a.Fragment,null)}}]),t}(d.Component),Yn=Object(w.compose)(N.g,Object(y.b)(function(e){return{authenticated:e.auth.authenticated,signedInUser:e.auth.signedInUser,medicalCases:e.myCasesList.medicalCases}},n))(Bn),Wn=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={topLevelSpecialities:[],secondLevelSpecialities:[],hasSecondLevelSpecialities:!1,primarySpecialityID:0,selectedSpecialityID:0,uploadedFiles:[]},a.handleOnDrop=function(e,t,n){e.map(function(e){var t=a.state.uploadedFiles.slice();return a.state.uploadedFiles[n]?(t[n]=a.state.uploadedFiles[n].slice(),t[n].push(e)):(t[n]=[],t[n].push(e)),a.setState(function(){return{uploadedFiles:t}}),{}})},a.removeFile=function(e,t){var n=a.state.uploadedFiles.slice();n[t].splice(n[t].indexOf(e),1),a.setState(function(){return{uploadedFiles:n}})},a.setTopLevelSpecialities=function(){var e=a.props,t=e.locale,n=e.primarySpecialities;n.length>0&&("en"===t?a.setState(function(){return{topLevelSpecialities:n.map(function(e){return{key:e.id,value:e.title_en}})}}):"ar"===t&&a.setState(function(){return{topLevelSpecialities:n.map(function(e){return{key:e.id,value:e.title_ar}})}}))},a.setSecondLevelSpecialities=function(){var e=a.props,t=e.locale,n=e.secondarySpecialities;n.length>0?("en"===t&&a.setState(function(){return{secondLevelSpecialities:n.map(function(e){return{key:e.id,value:e.title_en}}),hasSecondLevelSpecialities:!0}}),"ar"===t&&a.setState(function(){return{secondLevelSpecialities:n.map(function(e){return{key:e.id,value:e.title_ar}}),hasSecondLevelSpecialities:!0}})):a.setState(function(){return{secondLevelSpecialities:[],hasSecondLevelSpecialities:!1}})},a.handleSpecialityChange=function(e){var t=parseInt(e.target.value,10);if("top_level_speciality"===e.target.name)t?(a.props.asyncSetSecondarySpecialities(t),a.setState(function(){return{primarySpecialityID:t,selectedSpecialityID:t}})):a.setState(function(){return{secondLevelSpecialities:[],hasSecondLevelSpecialities:!1,selectedSpecialityID:0}});else if("second_level_speciality"===e.target.name){var n=a.state.primarySpecialityID;t?a.setState(function(){return{selectedSpecialityID:t}}):a.setState(function(){return{selectedSpecialityID:n}})}},a.handleFormSubmit=function(e){a.props.signedInUser&&a.props.addNewCase(a.state.selectedSpecialityID,e.question_description,a.props.signedInUser.id)},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){A.c.dismiss(),this.props.setInitialQuestionValues(),this.setTopLevelSpecialities()}},{key:"componentDidUpdate",value:function(e){e.primarySpecialities===this.props.primarySpecialities&&e.locale===this.props.locale||this.setTopLevelSpecialities(),e.secondarySpecialities===this.props.secondarySpecialities&&e.locale===this.props.locale||this.setSecondLevelSpecialities()}},{key:"render",value:function(){var e,t,a=this,n=this.state,r=n.topLevelSpecialities,s=n.secondLevelSpecialities,c=n.hasSecondLevelSpecialities,i=this.props,o=i.initialRequiredQuestions,l=i.locale,u=i.invalid,p=i.submitting,m=i.pristine;return o.length>0&&(e=o.map(function(e){if("en"===l?t=e.question_text_en:"ar"===l&&(t=e.question_text_ar),"TextInput"===e.question_type)return h.a.createElement(D.a,{key:e.id,name:"speciality_questions[".concat(e.id,"]"),type:"text",component:fn,label:t});if("SelectList"===e.question_type){var n=e.question_options_en.map(function(e,t){return{key:e,value:e}});return h.a.createElement(D.a,{key:e.id,name:"speciality_questions[".concat(e.id,"]"),component:mn,label:t,options:n})}if("CheckboxInput"===e.question_type){var r=e.question_options_en.map(function(e,t){return{label:e,value:e}});return h.a.createElement("div",{className:"inputs-row horizontal",key:e.id},h.a.createElement("h3",null,t),h.a.createElement(en,{name:"speciality_questions[".concat(e.id,"]"),options:r}))}if("RadioInput"===e.question_type){var s=e.question_options_en.map(function(e,t){return{key:t,title:e,value:e}});return h.a.createElement("div",{className:"inputs-row horizontal",key:e.id},h.a.createElement("h3",null,t),h.a.createElement(D.a,{component:Za,name:"speciality_questions[".concat(e.id,"]"),required:!0,options:s}))}return"FileInput"===e.question_type?h.a.createElement("div",{className:"file-upload",key:e.id},h.a.createElement("h3",null,t),h.a.createElement(D.a,{name:"speciality_questions[".concat(e.id,"]"),handleOnDrop:a.handleOnDrop,removeFile:a.removeFile,uploadedFiles:a.state.uploadedFiles,question:e,questionId:e.id,component:Xa})):"Textarea"===e.question_type?h.a.createElement(D.a,{key:e.id,name:"speciality_questions[".concat(e.id,"]"),type:"text",component:za,label:t}):null})),h.a.createElement("div",{className:"new-case-form"},h.a.createElement("form",{className:"form queestions",onSubmit:this.props.handleSubmit(this.handleFormSubmit)},h.a.createElement(D.a,{name:"question_description",type:"text",component:za,label:"Question Description",className:"question"}),h.a.createElement(D.a,{name:"top_level_speciality",component:mn,label:"Select Primary Specialities",options:r,onChange:this.handleSpecialityChange}),c&&h.a.createElement(D.a,{name:"second_level_speciality",component:mn,label:"Select Secondary Specialities",options:s,onChange:this.handleSpecialityChange}),e&&h.a.createElement("h3",null,"Required Questions"),e,void 0,void 0,h.a.createElement(St,{disabled:u||p||m,type:"submit",size:"big",theme:"black"},"Submit")))}}]),t}(d.Component),Gn=Object(w.compose)(Object(y.b)(function(e){return{locale:e.global.locale,signedInUser:e.auth.signedInUser,primarySpecialities:e.newCase.primarySpecialities,secondarySpecialities:e.newCase.secondarySpecialities,initialRequiredQuestions:e.newCase.initialRequiredQuestions,requiredQuestions:e.newCase.requiredQuestions,initialNotRequiredQuestions:e.newCase.initialNotRequiredQuestions,notRequiredQuestions:e.newCase.notRequiredQuestions}},c),Object(P.a)({form:"newCaseForm",enableReinitialize:!0,validate:function(e){var t={};return e.question_description||(t.question_description="\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0633\u0624\u0627\u0644"),e.selectedSpecialityID||(t.selectedSpecialityID="\u064a\u062c\u0628 \u0625\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062a\u062e\u0635\u0635"),t}}))(Wn),zn=function(){return"patient/payment/wallet"},Jn=function(e){return"patient/payment/medical_case/".concat(e,"/payment_method")},Vn=function(e){return"patient/payment/medical_case/".concat(e,"/wallet")},Kn=a(86),Xn=a.n(Kn),Zn=a(87),$n=a.n(Zn),er=function(e){var t=e.paymentSource,a=e.paymentMethodType,n=e.done,r=e.amount,s=e.walletBalance,c=e.fawryReferenceNumber,i=e.handleSubmit,o=e.changePaymentSource,l=e.changePaymentMethodType;return h.a.createElement("main",{className:"content"},h.a.createElement("div",{className:"payment-wrapper"},h.a.createElement("div",{className:"payment"},h.a.createElement("h3",null,"\u062f\u0641\u0639"),h.a.createElement("div",{id:"payment-form"},n?c?h.a.createElement("p",null,"Fawry reference number: ",c):h.a.createElement(h.a.Fragment,null):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"payment-method"},h.a.createElement("input",{type:"radio","data-value":"Wallet",onChange:o,checked:"Wallet"===t,className:"wallet",id:"wallet"}),h.a.createElement("label",{htmlFor:"wallet"},"\u0627\u0644\u0645\u062d\u0641\u0638\u0629 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a\u0629"),h.a.createElement("input",{type:"radio","data-value":"Payment method",onChange:o,checked:"Payment method"===t,className:"credit",id:"credit"}),h.a.createElement("label",{htmlFor:"credit"},"\u0637\u0631\u064a\u0642\u0629 \u062f\u0641\u0639")),"Wallet"===t&&h.a.createElement("div",{className:"payment-info"},h.a.createElement("div",{className:"item"},h.a.createElement("div",{className:"amount"},h.a.createElement("p",null,s),h.a.createElement("span",null,"\u062c.\u0645.")),h.a.createElement("div",{className:"name"},h.a.createElement("p",null,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u062d\u0627\u0644\u064a"))),h.a.createElement("div",{className:"item"},h.a.createElement("div",{className:"amount"},h.a.createElement("p",null,s-r),h.a.createElement("span",null,"\u062c.\u0645.")),h.a.createElement("div",{className:"name"},h.a.createElement("p",null,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u062a\u0628\u0642\u064a \u0628\u0639\u062f \u0627\u0644\u062f\u0641\u0639")))),"Payment method"===t&&h.a.createElement("div",{className:"payment-method"},h.a.createElement("input",{type:"radio","data-value":"Fawry",onChange:l,checked:"Fawry"===a,className:"wallet",id:"fawry"}),h.a.createElement("label",{htmlFor:"fawry"},"\u0641\u0648\u0631\u064a"),h.a.createElement("input",{type:"radio","data-value":"Accept",onChange:l,checked:"Accept"===a,className:"credit",id:"accept"}),h.a.createElement("label",{htmlFor:"accept"},"\u0628\u0637\u0627\u0642\u0629 \u0625\u0626\u062a\u0645\u0627\u0646"))))),h.a.createElement("div",{className:"summary"},h.a.createElement("h3",null,"\u0645\u0644\u062e\u0635 \u0627\u0644\u0637\u0644\u0628"),h.a.createElement("div",{className:"order"},h.a.createElement("div",{className:"item"},h.a.createElement("div",{className:"amount"},h.a.createElement("p",null,r),h.a.createElement("span",null,"\u062c.\u0645.")),h.a.createElement("div",{className:"name"},h.a.createElement("p",null,"\u0645\u0628\u0644\u063a \u0625\u062c\u0645\u0627\u0644\u064a")))),"Payment method"===t?h.a.createElement("div",{className:"providor"},h.a.createElement("p",null,"\u064a\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062f\u0641\u0639 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643 \u0645\u0628\u0627\u0634\u0631\u0629\u064b \u0625\u0644\u0649 \u0645\u0639\u0627\u0644\u062c \u0627\u0644\u062f\u0641\u0639 \u0648\u0644\u0627 \u064a\u062a\u0645 \u062d\u0641\u0638\u0647\u0627 \u0639\u0644\u0649 \u062e\u0648\u0627\u062f\u0645\u0646\u0627."),"Accept"===a&&h.a.createElement("img",{style:{maxWidth:"150px",maxHeight:"100px",marginTop:"10px"},src:Xn.a,alt:"weAccept"}),"Fawry"===a&&h.a.createElement("img",{style:{maxWidth:"150px",maxHeight:"100px",marginTop:"10px"},src:$n.a,alt:"fawry"})):h.a.createElement(h.a.Fragment,null),h.a.createElement("div",{className:"pay"},h.a.createElement("button",{className:"btn",type:"submit",onClick:i},"\u0627\u062f\u0641\u0639 \u0627\u0644\u0622\u0646")))),h.a.createElement("aside",null))};function tr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ar=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={paymentSource:"Payment method",done:!1},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.paymentMethodType,r=t.paymentSource,s=a.props.newToBePaidCase;if(s)try{if("Payment method"===r){var c={payment_method_type:n};W.a.post(Jn(s.id),c).then(function(e){var t=e.data;if(!1===t.status||!t.data)throw new Error(t.error_message);"Accept"===n?window.location.href=t.data.iframe_url:"Fawry"===n&&a.setState({fawryReferenceNumber:t.data.referenceNumber})})}else"Wallet"===r&&W.a.post(Vn(s.id)).then(function(e){var t=e.data;if(!1===t.status||!t.data)throw new Error(t.error_message);a.props.updateCaseInMyList(t.data.medical_case),A.c.success(t.success_message)});a.setState({done:!0})}catch(i){console.log("error:",i),i.response?i.response.data.error_message&&A.c.error(i.response.data.error_message):A.c.error(i.message)}},a.changePaymentSource=function(e){var t="Payment method";"Wallet"===e.currentTarget.getAttribute("data-value")&&(t="Wallet"),a.setState({paymentSource:t})},a.changePaymentMethodType=function(e){var t="Accept";"Fawry"===e.currentTarget.getAttribute("data-value")&&(t="Fawry"),a.setState({paymentMethodType:t})},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){A.c.dismiss()}},{key:"render",value:function(){var e=this.state,t=e.paymentSource,a=e.paymentMethodType,n=e.done,r=e.fawryReferenceNumber,s=this.props,c=s.newToBePaidCase,i=s.signedInUser;return i&&c?h.a.createElement(er,{paymentSource:t,paymentMethodType:a,done:n,amount:c.speciality.fee,walletBalance:i.patient_wallet.balance,fawryReferenceNumber:r,changePaymentMethodType:this.changePaymentMethodType,changePaymentSource:this.changePaymentSource,handleSubmit:this.handleSubmit}):h.a.createElement(h.a.Fragment,null)}}]),t}(d.Component),nr=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tr(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tr(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},n,{},c),rr=Object(w.compose)(Object(y.b)(function(e){return{locale:e.global.locale,signedInUser:e.auth.signedInUser,newToBePaidCase:e.newCase.newToBePaidCase}},nr))(ar);function sr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var cr=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentWillUnmount",value:function(){this.props.removeNewToBePaidCase()}},{key:"render",value:function(){var e=this.props,t=e.openNewCaseModal,a=e.closeNewCaseModal,n=e.loading,r=e.newToBePaidCase;return h.a.createElement(h.a.Fragment,null,h.a.createElement(j.a,{isOpen:t,className:"react-modal new-case-modal modal",overlayClassName:"react-modal-overlay",portalClassName:"react-modal-portal",contentLabel:"Create New Case Modal",onRequestClose:a,closeTimeoutMS:300},h.a.createElement("div",{className:"modal-content-wrapper content"},h.a.createElement(F,{loading:n}),h.a.createElement("div",{className:"modal-header header"},h.a.createElement(St,{icon:"icon",title:"Close Modal",onClick:a,extraclasses:"close-modal"},h.a.createElement("i",{className:"f-icon close-icon"}))),h.a.createElement("div",{className:"modal-body body"},r?h.a.createElement(rr,null):h.a.createElement(Gn,null)))))}}]),t}(d.Component),ir=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?sr(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sr(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},r,{},c),or=Object(w.compose)(Object(y.b)(function(e){return{loading:e.global.loading,newToBePaidCase:e.newCase.newToBePaidCase}},ir))(cr),lr=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={openNewCaseModal:!1},a.handleSignOut=function(){var e=a.props,t=e.signOut;(0,e.clearListsAction)(),t()},a.handleOpenModal=function(e){a.setState(function(){return{openNewCaseModal:!0}})},a.handleCloseModal=function(e){a.setState(function(){return{openNewCaseModal:!1}})},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){if(!this.props.signedInUser)return h.a.createElement(N.a,{to:"/"});var e=this.state.openNewCaseModal;return h.a.createElement("header",{className:"main-header"},h.a.createElement(or,{openNewCaseModal:e,closeNewCaseModal:this.handleCloseModal}),h.a.createElement("div",{className:"top-bar"},h.a.createElement("div",{className:"profile-pic"},h.a.createElement(g.c,{to:"/my-settings"},h.a.createElement("img",{src:dt.a,alt:this.props.signedInUser.name}))),h.a.createElement("div",{className:"actions"},h.a.createElement("div",{className:"search"},h.a.createElement("input",{type:"search",placeholder:"\u062a\u0628\u062d\u062b \u0639\u0646 \u0634\u064a\u0621\u061f"}),h.a.createElement("div",{className:"s-icon"},h.a.createElement("img",{src:vt.a,alt:"search icon"}))),h.a.createElement("div",{className:"logout"},h.a.createElement("button",{className:"btn",onClick:this.handleSignOut})),"patient"===this.props.signedInUser.type?h.a.createElement("div",{className:"new-case"},h.a.createElement("button",{onClick:this.handleOpenModal,className:"btn"},"\u0633\u0624\u0627\u0644 \u062c\u062f\u064a\u062f",h.a.createElement("span",null,h.a.createElement("svg",{id:"Group_146","data-name":"Group 146",xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10"},h.a.createElement("path",{id:"Path_241","data-name":"Path 241",d:"M9.457,4.3H5.7V.544A.674.674,0,0,0,5,0a.674.674,0,0,0-.7.543V4.3H.543A.674.674,0,0,0,0,5a.674.674,0,0,0,.543.7H4.3v3.76A.674.674,0,0,0,5,10a.674.674,0,0,0,.7-.543V5.7h3.76A.674.674,0,0,0,10,5,.674.674,0,0,0,9.457,4.3Z",transform:"translate(0 -0.001)",fill:"#183247"}))))):h.a.createElement(h.a.Fragment,null))))}}]),t}(d.Component),ur=Object(w.compose)(Object(y.b)(function(e){return{signedInUser:e.auth.signedInUser}},s))(lr),pr=a(180),mr=a.n(pr),dr=a(181),hr=a.n(dr),fr=a(182),Er=a.n(fr),gr=a(183),yr=a.n(gr),vr=a(184),br=a.n(vr),_r=a(185),Sr=a.n(_r),Or=a(186),Cr=a.n(Or),Nr=a(187),wr=a.n(Nr),Ar=function(e){return h.a.createElement("div",{className:"logo"},h.a.createElement(g.b,{to:{pathname:"/dashboard",state:{label:void 0,source:"SideNav"}}},h.a.createElement("img",{src:wr.a,alt:"Eyadatak Logo"})))},Tr=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"sidenav"},h.a.createElement(Ar,null),h.a.createElement("div",{className:"nav-items"},h.a.createElement("div",{className:"item"},h.a.createElement(g.c,{to:{pathname:"/my-cases-list",state:{label:void 0,source:"SideNav"}}},h.a.createElement("img",{src:mr.a,alt:"\u0627\u0644\u0623\u0633\u0626\u0644\u0629"}))),h.a.createElement("div",{className:"item"},h.a.createElement(g.c,{to:"/my-wallet"},h.a.createElement("img",{src:hr.a,alt:"\u0627\u0644\u0645\u062d\u0641\u0638\u0629"}))),h.a.createElement("div",{className:"item"},h.a.createElement(g.c,{to:"/my-settings"},h.a.createElement("img",{src:Er.a,alt:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"})))),h.a.createElement("div",{className:"social-links"},h.a.createElement("div",{className:"link"},h.a.createElement("a",{href:"!#",target:"_blank"},h.a.createElement("img",{src:yr.a,alt:"Facebook"}))),h.a.createElement("div",{className:"link"},h.a.createElement("a",{href:"!#",target:"_blank"},h.a.createElement("img",{src:br.a,alt:"Twitter"}))),h.a.createElement("div",{className:"link"},h.a.createElement("a",{href:"!#",target:"_blank"},h.a.createElement("img",{src:Sr.a,alt:"Instagram"}))),h.a.createElement("div",{className:"link"},h.a.createElement("a",{href:"!#",target:"_blank"},h.a.createElement("img",{src:Cr.a,alt:"Youtube"})))))}}]),t}(d.Component),jr=function(e){return h.a.createElement(h.a.Fragment,null,h.a.createElement(ur,null),h.a.createElement("nav",null,h.a.createElement(Tr,null)),h.a.createElement("main",{className:"content"},e.children))},qr=a(188),Rr=a.n(qr),kr=function(e){return h.a.createElement("div",{className:"error-page"},h.a.createElement("figure",null,h.a.createElement("img",{src:Rr.a,alt:"404 Illustration"})),h.a.createElement("h2",null,"Page Not Found!"),h.a.createElement("p",null,"The page you're looking for doesn't exist, ",h.a.createElement(g.b,{to:"/dashboard"},"Go Back")," to the home screen."))},Ir=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=ee();e&&!ce(e)||(this.props.signOut(),this.props.history.push("/"))}},{key:"componentDidUpdate",value:function(e){e.authenticated!==this.props.authenticated&&!1===this.props.authenticated&&this.props.history.push("/")}},{key:"render",value:function(){return h.a.createElement(h.a.Fragment,null,this.props.children)}}]),t}(h.a.Component),xr=Object(w.compose)(N.g,Object(y.b)(function(e){return{authenticated:e.auth.authenticated,loading:e.global.loading}},s))(Ir),Fr=a(189),Dr=a.n(Fr),Pr=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=Dr.a.parse(this.props.location.search);if(console.log(e.amount_cents),console.log(e.success),console.log(e.order),console.log(e.currency),console.log(e.id),console.log(new Date(e.created_at)),console.log(e["source_data.type"]),console.log(e["source_data.sub_type"]),e.merchant_order_id){var t=e.merchant_order_id.split("/");t&&t[1]}}},{key:"render",value:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"container"},h.a.createElement("div",{className:"dashboard"},h.a.createElement("div",{style:{margin:"auto",width:"400px"}},"You have completed the payment process successfully"))))}}]),t}(d.Component),Lr=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={month:"January",birthdateError:""},a.handleMonthChange=function(e){a.setState(function(){return{month:e.target.value}})},a.handleBirthdateChange=function(e){a.setState(function(){return{birthdateError:e}})},a.handleFormSubmit=function(e){var t={name:e.name,email:e.email,password:e.password,password_confirmation:e.password_confirmation,birthdate:"".concat(e.year,"-").concat(e.month,"-").concat(e.day),gender:e.gender,phone_number:e.phone_number};a.props.asyncUpdateUser(t)},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return h.a.createElement("form",{onSubmit:this.props.handleSubmit(this.handleFormSubmit)},h.a.createElement("div",{className:"block"},h.a.createElement("h4",null,"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062d\u0633\u0627\u0628"),h.a.createElement("p",null,"\u0642\u0645 \u0628\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062d\u0642\u0648\u0644 \u0623\u062f\u0646\u0627\u0647 \u0644\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0641\u0636\u0644\u0629 \u0644\u062f\u064a\u0643.")),h.a.createElement("div",{className:"block"},h.a.createElement("div",{className:"fixed-width"},h.a.createElement(D.a,{name:"name",type:"text",component:U,label:"\u0627\u0644\u0627\u0633\u0645",autofocus:"autofocus"}))),h.a.createElement("div",{className:"block"},h.a.createElement("div",{className:"fixed-width"},h.a.createElement(D.a,{name:"email",type:"text",component:U,label:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}))),h.a.createElement("div",{className:"block"},h.a.createElement("div",{className:"fixed-width"},h.a.createElement(D.a,{name:"password",type:"password",component:U,label:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}))),h.a.createElement("div",{className:"block"},h.a.createElement("div",{className:"fixed-width"},h.a.createElement(D.a,{name:"password_confirmation",type:"password",component:U,label:"\u062a\u0623\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}))),h.a.createElement("div",{className:"block"},h.a.createElement("div",{className:"fixed-width"},h.a.createElement(D.a,{name:"phone_number",type:"tel",component:U,label:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}))),h.a.createElement("div",{className:"block"},h.a.createElement("div",{className:"fixed-width"},h.a.createElement("label",{htmlFor:""},"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u064a\u0644\u0627\u062f "),h.a.createElement(D.a,{name:"year",component:rt,label:"\u0633\u0646\u0629",options:K(),required:!0,onBirthdayFieldChange:this.handleBirthdateChange,manyFields:!0}),h.a.createElement(D.a,{name:"month",component:rt,label:"\u0634\u0647\u0631",options:X,required:!0,onBirthdayFieldChange:this.handleBirthdateChange,manyFields:!0,onChange:this.handleMonthChange}),h.a.createElement(D.a,{name:"day",component:rt,label:"\u064a\u0648\u0645",required:!0,onBirthdayFieldChange:this.handleBirthdateChange,manyFields:!0,options:$(this.state.month)}),h.a.createElement("span",{className:"err-msg"},this.state.birthdateError))),h.a.createElement("div",{className:"block"},h.a.createElement("div",{className:"fixed-width"},h.a.createElement(D.a,{component:rt,name:"gender",required:!0,options:[{key:"\u0630\u0643\u0631",value:"male"},{key:"\u0623\u0646\u062b\u0649",value:"female"}],label:"\u0627\u0644\u062c\u0646\u0633"}))),h.a.createElement("div",{className:"block"},h.a.createElement("div",{className:"fixed-width"},h.a.createElement("button",{className:"btn btn-success",type:"submit"},"\u062a\u062d\u062f\u064a\u062b"))))}}]),t}(d.Component),Mr=Ke.combineValidators({name:Ke.composeValidators(Ke.isRequired({message:"\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0627\u0633\u0645"}),Ke.hasLengthLessThan(255)({message:"\u0627\u0644\u0627\u0633\u0645 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0623\u0646 \u064a\u062a\u062c\u0627\u0648\u0632 255 \u062d\u0631\u0641"}))(),email:Ke.composeValidators(Ke.isRequired({message:"\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),Ke.matchesPattern(V)({message:"\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0635\u062d\u064a\u062d"}))(),password:Ke.composeValidators(Ke.hasLengthLessThan(255)({message:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0623\u0646 \u062a\u062a\u062c\u0627\u0648\u0632 255 \u062d\u0631\u0641 \u0623\u0648 \u0631\u0642\u0645"}),Ke.hasLengthGreaterThan(6)({message:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0623\u0646 \u062a\u0642\u0644 \u0639\u0646 7 \u062d\u0631\u0648\u0641 \u0648\u0623\u0631\u0642\u0627\u0645"}))(),password_confirmation:Ke.composeValidators(Ke.hasLengthLessThan(255)({message:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0623\u0646 \u062a\u062a\u062c\u0627\u0648\u0632 255 \u062d\u0631\u0641 \u0623\u0648 \u0631\u0642\u0645"}),Ke.matchesField("password","Password")({message:"\u0643\u0644\u0645\u0627\u062a \u0627\u0644\u0645\u0631\u0648\u0631 \u063a\u064a\u0631 \u0645\u062a\u0637\u0627\u0628\u0642\u0629"}))(),phone_number:Ke.composeValidators(Ke.isRequired({message:"\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),Ke.isNumeric({message:"\u0628\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0631\u0642\u0645 \u0647\u0627\u062a\u0641 \u0635\u062d\u064a\u062d"}))(),gender:Ke.isRequired({message:"\u0628\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062c\u0646\u0633"}),year:Ke.isRequired({message:"Please choose your year of birth."}),month:Ke.isRequired({message:"Please choose your month of birth."}),day:Ke.isRequired({message:"Please choose your day of birth."})}),Ur=Object(w.compose)(Object(y.b)(function(e){return{locale:e.global.locale,signedInUser:e.auth.signedInUser,authenticated:e.auth.authenticated}},s),Object(P.a)({form:"updateUserForm",enableReinitialize:!0,validate:Mr}))(Lr),Qr=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){if(!this.props.authenticated)return h.a.createElement(N.a,{to:"/"});var e=this.props.signedInUser,t={};if(e){var a=function(e){if(e){var t=e.split("-");if(t[0])return t[0]}return""}(e.birthdate||""),n=function(e){if(e){var t=e.split("-");if(t[1])return t[1]}return""}(e.birthdate||""),r=function(e){if(e){var t=e.split("-");if(t[2])return t[2]}return""}(e.birthdate||"");t={name:e.name,email:e.email,year:a,month:n,day:r,gender:e.gender,phone_number:e.phone_number}}return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"container"},h.a.createElement("div",{className:"page-content bg-white border-green"},h.a.createElement(Ur,{initialValues:t}))))}}]),t}(d.Component),Hr=Object(w.compose)(Object(y.b)(function(e){return{locale:e.global.locale,signedInUser:e.auth.signedInUser,authenticated:e.auth.authenticated}},s))(Qr),Br=function(){return{type:"PAYMENT_RECEIPTS_LIST_ACTION_START",excludeRefresh:!0}},Yr=function(){return{type:"PAYMENT_RECEIPTS_LIST_ACTION_FINISH",excludeRefresh:!0}},Wr=function(){return{type:"PAYMENT_RECEIPTS_LIST_ACTION_ERROR",excludeRefresh:!0}},Gr=function(e){return{type:"SET_PAYMENT_RECEIPTS",payload:e}},zr=function(e,t,a){return{type:"SORT_RECEIPTS_LIST",payload:{orderBy:e,order:t,paymentReceipts:a}}},Jr=function(e){return{type:"FILTER_RECEIPTS",payload:e}},Vr=function(){return{type:"CLEAR_RECEIPT_LISTS"}},Kr=function(){return function(){var e=Object(B.a)(H.a.mark(function e(t){var a,n,r,s;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Br()),a=[],e.next=5,W.a.get("patient/payment/payment_receipts");case 5:n=e.sent,(r=n.data).data&&(a=r.data.payment_receipts,(s=as(a,ts("desc","updated_at")))&&t(Gr(s))),t(Yr()),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error:",e.t0),e.t0.response&&e.t0.response.data.error_message&&A.c.error(e.t0.response.data.error_message),t(Wr());case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()},Xr=function(e,t,a){return function(){var n=Object(B.a)(H.a.mark(function n(r){var s;return H.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{r(Br()),s=as(a,ts(t,e)),r(zr(e,t,s)),r(Yr())}catch(c){console.log("error:",c),c.response&&c.response.data.error_message&&A.c.error(c.response.data.error_message),r(Wr())}case 1:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},Zr=function(e,t){return function(){var a=Object(B.a)(H.a.mark(function a(n){return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0,n(Br()),a.t0=e,a.next="Complete"===a.t0?5:"InComplete"===a.t0?7:9;break;case 5:return n(Jr(t.filter(function(e){return 1===e.completed}))),a.abrupt("break",10);case 7:return n(Jr(t.filter(function(e){return 0===e.completed}))),a.abrupt("break",10);case 9:n(Jr(t));case 10:n(Yr()),a.next=18;break;case 13:a.prev=13,a.t1=a.catch(0),console.log("error:",a.t1),a.t1.response&&a.t1.response.data.error_message&&A.c.error(a.t1.response.data.error_message),n(Wr());case 18:case"end":return a.stop()}},a,null,[[0,13]])}));return function(e){return a.apply(this,arguments)}}()},$r=function(){return function(){var e=Object(B.a)(H.a.mark(function e(t){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Br()),e.next=4,t(Vr());case 4:t(Yr()),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error:",e.t0),e.t0.response&&e.t0.response.data.error_message&&A.c.error(e.t0.response.data.error_message),t(Wr());case 12:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()};function es(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function ts(e,t){return"desc"===e?function(e,a){return es(e,a,t)}:function(e,a){return-es(e,a,t)}}function as(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}var ns=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).headerData=[{id:"target",label:"\u0627\u0644\u0646\u0648\u0639"},{id:"amount",label:"\u0627\u0644\u0645\u0628\u0644\u063a"},{id:"payment_method",label:"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639"},{id:"completed",label:"\u0645\u0643\u062a\u0645\u0644"},{id:"transaction_id",label:"\u0631\u0645\u0632 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629"},{id:"created_at",label:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621"},{id:"updated_at",label:"\u062a\u0627\u0631\u064a\u062e \u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b"}],a.sortRequest=function(e){return function(t){a.props.prepareSort(e),t.preventDefault()}},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this;return h.a.createElement("thead",null,h.a.createElement("tr",null,this.headerData.map(function(t){return h.a.createElement("th",{key:t.id,onClick:e.sortRequest(t.id)},t.label)})))}}]),t}(d.Component),rs=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={paymentReceipts:[],sortAndFilter:{order:"desc",orderBy:"updated_at",page:0,rowsPerPage:10},page:0,rowsPerPage:10},a.prepareSort=function(e){var t="desc";e===a.props.sortAndFilter.orderBy&&"desc"===a.props.sortAndFilter.order&&(t="asc"),a.props.sortReceiptsListRequest(e,t,a.state.paymentReceipts)},a.handleChangePage=function(e){"prev"===e&&0!==a.state.page?a.setState(function(){return{page:a.state.page-1}}):a.state.page<a.state.paymentReceipts.length/a.state.rowsPerPage-1&&a.setState(function(){return{page:a.state.page+1}})},a.handleChangeRowsPerPage=function(e){a.setState(function(){return{rowsPerPage:parseInt(e.target.value,10)}}),e.persist()},a.handleFilterChange=function(e){a.prepareSort(e.target.value),e.persist()},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(function(){return{paymentReceipts:e.props.paymentReceipts}})}},{key:"componentDidUpdate",value:function(e){var t=this;e.paymentReceipts!==this.props.paymentReceipts&&this.setState(function(){return{paymentReceipts:t.props.paymentReceipts}}),e.sortAndFilter.order===this.props.sortAndFilter.order&&e.sortAndFilter.orderBy===this.props.sortAndFilter.orderBy||this.setState(function(){return{sortAndFilter:t.props.sortAndFilter}})}},{key:"render",value:function(){var e=this;return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"action-bar cases"},h.a.createElement("div",{className:"select_all"},h.a.createElement("input",{type:"checkbox",name:"select_all",id:"select_all"}),h.a.createElement("label",{htmlFor:"select_all"},"\u0627\u062e\u062a\u0631 \u0627\u0644\u0643\u0644")),h.a.createElement("div",{className:"search"},h.a.createElement("input",{type:"search",placeholder:"\u062a\u0628\u062d\u062b \u0639\u0646 \u0634\u064a\u0621\u061f"}),h.a.createElement("div",{className:"s-icon"},h.a.createElement("img",{src:vt.a,alt:"search icon"}))),h.a.createElement("div",{className:"actions left"},h.a.createElement("div",{className:"single"},h.a.createElement("select",{className:"select",onChange:this.handleFilterChange},h.a.createElement("option",{value:"id"},"\u062a\u0631\u062a\u064a\u0628 \u062d\u0633\u0628"),h.a.createElement("option",{value:"target"},"\u0627\u0644\u0646\u0648\u0639"),h.a.createElement("option",{value:"amount"},"\u0627\u0644\u0645\u0628\u0644\u063a"),h.a.createElement("option",{value:"payment_method"},"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639"),h.a.createElement("option",{value:"completed"},"\u0645\u0643\u062a\u0645\u0644"),h.a.createElement("option",{value:"transaction_id"},"\u0631\u0645\u0632 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629"),h.a.createElement("option",{value:"created_at"},"\u062a\u0627\u0631\u064a\u062e \u0628\u062f\u0621 \u0627\u0644\u0633\u0624\u0627\u0644"),h.a.createElement("option",{value:"updated_at"},"\u062a\u0627\u0631\u064a\u062e \u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b"))),h.a.createElement("div",{className:"single"},h.a.createElement("select",{className:"select",name:"gender",onChange:this.handleChangeRowsPerPage},h.a.createElement("option",{value:"10"},"10 \u0623\u0633\u0626\u0644\u0629"),h.a.createElement("option",{value:"20"},"20 \u0633\u0624\u0627\u0644"),h.a.createElement("option",{value:"50"},"50 \u0633\u0624\u0627\u0644"),h.a.createElement("option",{value:"100"},"100 \u0633\u0624\u0627\u0644"))),h.a.createElement("div",{className:"single pagination"},h.a.createElement("button",{id:"next",onClick:function(){return e.handleChangePage("prev")}}),h.a.createElement("button",{id:"prev",onClick:function(){return e.handleChangePage("next")}}))),h.a.createElement("div",{className:"actions left"},h.a.createElement("div",{className:"single"},h.a.createElement("select",{className:"select",onChange:this.handleFilterChange},h.a.createElement("option",{value:"id"},"\u062a\u0631\u062a\u064a\u0628 \u062d\u0633\u0628"),h.a.createElement("option",{value:"target"},"\u0627\u0644\u0646\u0648\u0639"),h.a.createElement("option",{value:"amount"},"\u0627\u0644\u0645\u0628\u0644\u063a"),h.a.createElement("option",{value:"payment_method"},"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639"),h.a.createElement("option",{value:"completed"},"\u0645\u0643\u062a\u0645\u0644"),h.a.createElement("option",{value:"transaction_id"},"\u0631\u0645\u0632 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629"),h.a.createElement("option",{value:"created_at"},"\u062a\u0627\u0631\u064a\u062e \u0628\u062f\u0621 \u0627\u0644\u0633\u0624\u0627\u0644"),h.a.createElement("option",{value:"updated_at"},"\u062a\u0627\u0631\u064a\u062e \u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b"))))),h.a.createElement("div",{className:"container"},h.a.createElement("table",{className:"all_cases"},h.a.createElement(ns,{prepareSort:this.prepareSort,orderBy:this.state.sortAndFilter.orderBy,order:this.state.sortAndFilter.order}),h.a.createElement("tbody",null,this.state.paymentReceipts.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map(function(e){return h.a.createElement("tr",{key:e.id},h.a.createElement("td",null,e.target),h.a.createElement("td",null,e.amount),h.a.createElement("td",null,e.payment_method.type),h.a.createElement("td",null,1===e.completed?"\u0645\u0643\u062a\u0645\u0644":"\u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644"),h.a.createElement("td",null,e.transaction_id),h.a.createElement("td",{className:"date"},ie(e.created_at)),h.a.createElement("td",{className:"date"},ie(e.updated_at)))})))))}}]),t}(d.Component),ss=Object(w.compose)(Object(y.b)(function(e){return{locale:e.global.locale,paymentReceipts:e.paymentReceipts.paymentReceipts,sortAndFilter:e.paymentReceipts.sortAndFilter}},m))(rs),cs=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={paymentReceipts:[],label:"ALL"},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.authenticated&&((!this.props.paymentReceipts||0===this.props.paymentReceipts.length||this.props.location.state&&"SideNav"===this.props.location.state.source)&&this.props.signedInUser?this.props.setPaymentReceiptsList():this.setState(function(){return{paymentReceipts:e.props.paymentReceipts}}),this.props.filterReceiptsList(this.state.label,this.props.paymentReceipts))}},{key:"render",value:function(){return this.props.authenticated?this.props.loading?h.a.createElement(F,{loading:this.props.loading}):h.a.createElement(h.a.Fragment,null,h.a.createElement(ss,null),h.a.createElement("aside",null)):h.a.createElement(N.a,{to:"/"})}}]),t}(d.Component),is=Object(w.compose)(N.g,Object(y.b)(function(e){return{locale:e.global.locale,loading:e.global.loading,signedInUser:e.auth.signedInUser,authenticated:e.auth.authenticated,paymentReceipts:e.paymentReceipts.paymentReceipts}},m))(cs),os=function(e){var t=e.paymentMethodType,a=e.done,n=e.fawryReferenceNumber,r=e.handleSubmit,s=e.changePaymentMethodType,c=e.amountToBePaidHandler;return h.a.createElement("main",{className:"content"},h.a.createElement("div",{className:"payment-wrapper"},h.a.createElement("div",{className:"payment"},h.a.createElement("h3",null,"\u062f\u0641\u0639"),h.a.createElement("div",{id:"payment-form"},a?n?h.a.createElement("p",null,"Fawry reference number: ",n):h.a.createElement(h.a.Fragment,null):h.a.createElement("div",{className:"payment-method"},h.a.createElement("input",{type:"radio","data-value":"Fawry",onChange:s,checked:"Fawry"===t,className:"wallet",id:"fawry"}),h.a.createElement("label",{htmlFor:"fawry"},"\u0641\u0648\u0631\u064a"),h.a.createElement("input",{type:"radio","data-value":"Accept",onChange:s,checked:"Accept"===t,className:"credit",id:"accept"}),h.a.createElement("label",{htmlFor:"accept"},"\u0628\u0637\u0627\u0642\u0629 \u0625\u0626\u062a\u0645\u0627\u0646")))),h.a.createElement("div",{className:"summary"},h.a.createElement("h3",null,"\u0645\u0644\u062e\u0635 \u0627\u0644\u0637\u0644\u0628"),h.a.createElement("div",{className:"order"},h.a.createElement("div",{className:"item"},h.a.createElement("div",{className:"amount"},h.a.createElement("input",{type:"text",id:"amount-input",onChange:c}),h.a.createElement("label",{htmlFor:"amount-input"},"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u0636\u0627\u0641")))),h.a.createElement("div",{className:"providor"},h.a.createElement("p",null,"\u064a\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062f\u0641\u0639 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643 \u0645\u0628\u0627\u0634\u0631\u0629\u064b \u0625\u0644\u0649 \u0645\u0639\u0627\u0644\u062c \u0627\u0644\u062f\u0641\u0639 \u0648\u0644\u0627 \u064a\u062a\u0645 \u062d\u0641\u0638\u0647\u0627 \u0639\u0644\u0649 \u062e\u0648\u0627\u062f\u0645\u0646\u0627."),"Accept"===t&&h.a.createElement("img",{style:{maxWidth:"150px",maxHeight:"100px",marginTop:"10px"},src:Xn.a,alt:"weAccept"}),"Fawry"===t&&h.a.createElement("img",{style:{maxWidth:"150px",maxHeight:"100px",marginTop:"10px"},src:$n.a,alt:"fawry"})),h.a.createElement("div",{className:"pay"},h.a.createElement("button",{className:"btn",type:"submit",onClick:r},"\u0627\u062f\u0641\u0639 \u0627\u0644\u0622\u0646")))),h.a.createElement("aside",null))},ls=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={done:!1,paymentMethodType:"Accept",amountToBePaid:0},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.paymentMethodType,r=t.amountToBePaid;try{var s={payment_method_type:n,amount:r};W.a.post(zn(),s).then(function(e){var t=e.data;if(!1===t.status||!t.data)throw new Error(t.error_message);"Accept"===n?window.location.href=t.data.iframe_url:"Fawry"===n&&a.setState({fawryReferenceNumber:t.data.referenceNumber})}),a.setState({done:!0})}catch(c){console.log("error:",c),c.response?c.response.data.error_message&&A.c.error(c.response.data.error_message):A.c.error(c.message)}},a.amountToBePaidHandler=function(e){a.setState({amountToBePaid:parseInt(e.target.value,10)})},a.changePaymentMethodType=function(e){var t="Accept";"Fawry"===e.currentTarget.getAttribute("data-value")&&(t="Fawry"),a.setState({paymentMethodType:t})},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props,t=e.openChargeWalletModal,a=e.closeChargeWalletModal,n=e.loading,r=this.state,s=r.paymentMethodType,c=r.fawryReferenceNumber,i=r.done;return h.a.createElement(h.a.Fragment,null,h.a.createElement(j.a,{isOpen:t,className:"react-modal new-case-modal modal",overlayClassName:"react-modal-overlay",portalClassName:"react-modal-portal",contentLabel:"Create New Case Modal",onRequestClose:a,closeTimeoutMS:300},h.a.createElement("div",{className:"modal-content-wrapper content"},h.a.createElement(F,{loading:n}),h.a.createElement("div",{className:"modal-header header"},h.a.createElement(St,{icon:"icon",title:"Close Modal",onClick:a,extraclasses:"close-modal"},h.a.createElement("i",{className:"f-icon close-icon"}))),h.a.createElement("div",{className:"modal-body body"},h.a.createElement(os,{paymentMethodType:s,done:i,fawryReferenceNumber:c,changePaymentMethodType:this.changePaymentMethodType,amountToBePaidHandler:this.amountToBePaidHandler,handleSubmit:this.handleSubmit})))))}}]),t}(d.Component),us=Object(w.compose)(Object(y.b)(function(e){return{loading:e.global.loading,newToBePaidCase:e.newCase.newToBePaidCase}}))(ls),ps=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={openChargeWalletModal:!1},a.handleOpenModal=function(e){a.setState(function(){return{openChargeWalletModal:!0}})},a.handleCloseModal=function(e){a.setState(function(){return{openChargeWalletModal:!1}})},a}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authenticated,a=e.signedInUser,n=this.state.openChargeWalletModal;return t?a?h.a.createElement(h.a.Fragment,null,h.a.createElement(us,{openChargeWalletModal:n,closeChargeWalletModal:this.handleCloseModal}),h.a.createElement("div",{className:"container"},h.a.createElement("div",{className:"wallet-info"},h.a.createElement("h3",null,"\u0634\u062d\u0646 \u0623\u0648 \u0625\u0636\u0627\u0641\u0629 \u0631\u0635\u064a\u062f \u0644\u0644\u0645\u062d\u0641\u0638\u0629 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a\u0629"),h.a.createElement("b",null,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u062d\u0627\u0644\u064a: ",a.patient_wallet.balance," \u062c.\u0645."),h.a.createElement("button",{onClick:this.handleOpenModal,className:"btn btn-success"},"\u0634\u062d\u0646 \u0627\u0644\u0645\u062d\u0641\u0638\u0629")),h.a.createElement("div",{className:"payment-receipts-list"},h.a.createElement(is,null)))):h.a.createElement(h.a.Fragment,null):h.a.createElement(N.a,{to:"/"})}}]),t}(d.Component),ms=Object(w.compose)(Object(y.b)(function(e){return{locale:e.global.locale,authenticated:e.auth.authenticated,signedInUser:e.auth.signedInUser}},s))(ps);function ds(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var hs=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.locale!==this.props.locale&&this.props.locale&&"null"!==this.props.locale){var t=this.props.locale;t&&(te(t),this.props.setLocale(t),document.body.classList.remove("en","ar"),document.body.classList.add(t))}}},{key:"render",value:function(){return this.props.loading?h.a.createElement(F,{loading:this.props.loading}):h.a.createElement(h.a.Fragment,null,h.a.createElement(xr,null,h.a.createElement(A.b,{position:"top-center",autoClose:!1,newestOnTop:!0,transition:A.a,draggable:!0,pauseOnFocusLoss:!0,pauseOnHover:!0}),h.a.createElement(N.d,null,h.a.createElement(N.b,{path:"/",exact:!0,component:ut})),h.a.createElement(N.b,{path:"/(.+)",render:function(){return h.a.createElement(jr,null,h.a.createElement(N.d,null,h.a.createElement(N.b,{path:"/dashboard",component:ft}),h.a.createElement(N.b,{path:"/my-cases-list",component:Ct}),h.a.createElement(N.b,{path:"/case-details/:caseId",component:Yn}),h.a.createElement(N.b,{path:"/payment/accept/success",component:Pr}),h.a.createElement(N.b,{path:"/my-wallet",component:ms}),h.a.createElement(N.b,{path:"/my-settings",component:Hr}),h.a.createElement(N.b,{component:kr})))}})))}}]),t}(d.Component);j.a.setAppElement("#root");var fs,Es=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ds(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ds(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},s,{},r),gs=Object(w.compose)(N.g,Object(y.b)(function(e){return{locale:e.global.locale,loading:e.global.loading}},Es))(hs),ys=(a(407),a(190)),vs=function(e){return function(e){return function(t){if(t.excludeRefresh||!t.type||t.type.includes("@@redux-form"))e(t);else{var a=ee();a?(ce(a),e(t)):e(t)}}}},bs=a(167),_s=function(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(n.type)?t[n.type](a,n):a}};function Ss(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Os(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ss(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ss(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Cs,Ns={authenticated:null!==ee(),signedInUser:re()&&null!==re()?JSON.parse(re()):null},ws=_s(Ns,(fs={},Object(v.a)(fs,"SIGN_IN",function(e,t){return Os({},e,{authenticated:!0,signedInUser:t.payload})}),Object(v.a)(fs,"SIGN_OUT",function(e){return Os({},e,{authenticated:!1,signedInUser:null})}),Object(v.a)(fs,"UPDATE_USER",function(e,t){return Os({},e,{signedInUser:t.payload})}),fs));function As(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ts(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?As(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):As(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var js,qs={locale:"ar",loading:!1},Rs=_s(qs,(Cs={},Object(v.a)(Cs,"ASYNC_ACTION_START",function(e){return Ts({},e,{loading:!0})}),Object(v.a)(Cs,"ASYNC_ACTION_FINISH",function(e){return Ts({},e,{loading:!1})}),Object(v.a)(Cs,"ASYNC_ACTION_ERROR",function(e){return Ts({},e,{loading:!1})}),Object(v.a)(Cs,"SWITCH_TO_ARABIC",function(e){return Ts({},e,{locale:"ar"})}),Object(v.a)(Cs,"SWITCH_TO_ENGLISH",function(e){return Ts({},e,{locale:"en"})}),Object(v.a)(Cs,"SET_LOCALE",function(e,t){return Ts({},e,{locale:t.payload})}),Cs));function ks(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Is(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ks(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ks(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var xs,Fs={primarySpecialities:[],secondarySpecialities:[],initialRequiredQuestions:[],requiredQuestions:[],initialNotRequiredQuestions:[],notRequiredQuestions:[],loading:!1},Ds=_s(Fs,(js={},Object(v.a)(js,"NEW_CASE_ACTION_START",function(e){return Is({},e,{loading:!0})}),Object(v.a)(js,"NEW_CASE_ACTION_FINISH",function(e){return Is({},e,{loading:!1})}),Object(v.a)(js,"NEW_CASE_ACTION_ERROR",function(e){return Is({},e,{loading:!1})}),Object(v.a)(js,"SET_PRIMARY_SPECIALITIES",function(e,t){return Is({},e,{primarySpecialities:t.payload})}),Object(v.a)(js,"SET_SECONDARY_SPECIALITIES",function(e,t){return Is({},e,{secondarySpecialities:t.payload})}),Object(v.a)(js,"SET_INITIAL_REQUIRED_QUESTIONS",function(e,t){return Is({},e,{initialRequiredQuestions:t.payload})}),Object(v.a)(js,"SET_REQUIRED_QUESTIONS",function(e,t){return Is({},e,{requiredQuestions:t.payload})}),Object(v.a)(js,"SET_INITIAL_NOT_REQUIRED_QUESTIONS",function(e,t){return Is({},e,{initialNotRequiredQuestions:t.payload})}),Object(v.a)(js,"SET_NOT_REQUIRED_QUESTIONS",function(e,t){return Is({},e,{notRequiredQuestions:t.payload})}),Object(v.a)(js,"SET_NEW_TO_BE_PAID_CASE",function(e,t){return Is({},e,{newToBePaidCase:t.payload})}),Object(v.a)(js,"REMOVE_NEW_TO_BE_PAID_CASE",function(e){return Is({},e,{newToBePaidCase:null})}),js));function Ps(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ls(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ps(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ps(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ms,Us={medicalCases:[],filteredCases:[],sortAndFilter:{order:"desc",orderBy:"updated_at",page:0,rowsPerPage:10},loading:!1,pendingTransfers:[]},Qs=_s(Us,(xs={},Object(v.a)(xs,"ADD_NEW_CASE_ACTION",function(e,t){return Ls({},e,{medicalCases:[].concat(Object(Nt.a)(e.medicalCases),[t.payload])})}),Object(v.a)(xs,"MY_CASES_LIST_ACTION_START",function(e){return Ls({},e,{loading:!0})}),Object(v.a)(xs,"MY_CASES_LIST_ACTION_FINISH",function(e){return Ls({},e,{loading:!1})}),Object(v.a)(xs,"MY_CASES_LIST_ACTION_ERROR",function(e){return Ls({},e,{loading:!1})}),Object(v.a)(xs,"SET_MY_CASES",function(e,t){return Ls({},e,{medicalCases:t.payload,sortAndFilter:Ls({},e.sortAndFilter,{order:"desc",orderBy:"updated_at"})})}),Object(v.a)(xs,"SORT_CASES_LIST",function(e,t){return Ls({},e,{filteredCases:t.payload.medicalCases,sortAndFilter:Ls({},e.sortAndFilter,{order:t.payload.order,orderBy:t.payload.orderBy})})}),Object(v.a)(xs,"FILTER_CASES",function(e,t){return Ls({},e,{filteredCases:t.payload})}),Object(v.a)(xs,"CLEAR_CASE_LISTS",function(e){return Ls({},e,{medicalCases:[],filteredCases:[]})}),Object(v.a)(xs,"SET_PENDING_TRANSFERS",function(e,t){return Ls({},e,{pendingTransfers:t.payload})}),Object(v.a)(xs,"UPDATE_CASE_IN_MY_LIST_ACTION",function(e,t){var a=e.medicalCases.filter(function(e){return e.id!==t.payload.id});return Ls({},e,{medicalCases:[].concat(Object(Nt.a)(a),[t.payload])})}),xs));function Hs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Bs(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Hs(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Hs(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ys,Ws={caseChatData:[],caseUnansweredQuestions:[],caseDoctor:null,loading:!1},Gs=_s(Ws,(Ms={},Object(v.a)(Ms,"CHAT_CASE_ACTION_START",function(e){return Bs({},e,{loading:!0})}),Object(v.a)(Ms,"CHAT_CASE_ACTION_FINISH",function(e){return Bs({},e,{loading:!1})}),Object(v.a)(Ms,"CHAT_CASE_ACTION_ERROR",function(e){return Bs({},e,{loading:!1})}),Object(v.a)(Ms,"SET_CASE_REPLIES",function(e,t){return Bs({},e,{caseChatData:t.payload.replies,caseUnansweredQuestions:t.payload.questions,lastReplyId:t.payload.lastReplyId})}),Object(v.a)(Ms,"SET_CASE_DOCTOR",function(e,t){return Bs({},e,{caseDoctor:t.payload})}),Object(v.a)(Ms,"SET_CASE_PATIENT",function(e,t){return Bs({},e,{casePatient:t.payload})}),Ms));function zs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Js(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?zs(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zs(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Vs,Ks={specialityDoctorsList:[],transferRequestedSuccessfully:!1},Xs=_s(Ks,(Ys={},Object(v.a)(Ys,"TRANSFER_CASE_ACTION_START",function(e){return Js({},e,{loading:!0})}),Object(v.a)(Ys,"TRANSFER_CASE_ACTION_FINISH",function(e){return Js({},e,{loading:!1})}),Object(v.a)(Ys,"TRANSFER_CASE_ACTION_ERROR",function(e){return Js({},e,{loading:!1})}),Object(v.a)(Ys,"SET_SPECIALITY_DOCTORS",function(e,t){return Js({},e,{specialityDoctorsList:t.payload})}),Object(v.a)(Ys,"TRANSFER_REQUEST_SUCCESSFUL",function(e){return Js({},e,{transferRequestedSuccessfully:!0})}),Ys));function Zs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function $s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Zs(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zs(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ec,tc={historyCases:[],allAccessRequests:[],requestStatus:"",accessLevel:"",historyAccessId:0,waitingApproval:!1,waitingLevel:""},ac=_s(tc,(Vs={},Object(v.a)(Vs,"HISTORY_ACCESS_ACTION_START",function(e){return $s({},e,{loading:!0})}),Object(v.a)(Vs,"HISTORY_ACCESS_ACTION_FINISH",function(e){return $s({},e,{loading:!1})}),Object(v.a)(Vs,"HISTORY_ACCESS_ACTION_ERROR",function(e){return $s({},e,{loading:!1})}),Object(v.a)(Vs,"REQUEST_FULL_ACCESS",function(e){return $s({},e)}),Object(v.a)(Vs,"REQUEST_SPECIALITY_ACCESS",function(e){return $s({},e)}),Object(v.a)(Vs,"SET_REQUEST_STATUS_AND_ACCESS_LEVEL",function(e,t){return $s({},e,{requestStatus:t.requestStatus,accessLevel:t.accessLevel,historyAccessId:t.historyAccessId,waitingApproval:t.waitingApproval,waitingLevel:t.waitingLevel,allAccessRequests:t.allAccessRequests})}),Object(v.a)(Vs,"SET_HISTORY_CASES",function(e,t){return $s({},e,{historyCases:t})}),Vs));function nc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function rc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nc(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nc(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var sc,cc={historyCaseChatData:[],loading:!1},ic=_s(cc,(ec={},Object(v.a)(ec,"HISTORY_CASE_ACTION_START",function(e){return rc({},e,{loading:!0})}),Object(v.a)(ec,"HISTORY_CASE_ACTION_FINISH",function(e){return rc({},e,{loading:!1})}),Object(v.a)(ec,"HISTORY_CASE_ACTION_ERROR",function(e){return rc({},e,{loading:!1})}),Object(v.a)(ec,"SET_HISTORY_CASE_REPLIES",function(e,t){return rc({},e,{historyCaseChatData:t.payload})}),ec));function oc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function lc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oc(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oc(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var uc,pc={savedQuestions:[],templateToSend:[]},mc=_s(pc,(sc={},Object(v.a)(sc,"QUESTION_TEMPLATE_ACTION_START",function(e){return lc({},e,{loading:!0})}),Object(v.a)(sc,"QUESTION_TEMPLATE_ACTION_FINISH",function(e){return lc({},e,{loading:!1})}),Object(v.a)(sc,"QUESTION_TEMPLATE_ACTION_ERROR",function(e){return lc({},e,{loading:!1})}),Object(v.a)(sc,"SET_SAVED_QUESTIONS",function(e,t){return lc({},e,{savedQuestions:t})}),Object(v.a)(sc,"ADD_QUESTION_TO_TEMPLATE",function(e,t){return lc({},e,{templateToSend:[].concat(Object(Nt.a)(e.templateToSend),[t])})}),Object(v.a)(sc,"SEND_CASE_QUESTIONS",function(e){return lc({},e)}),sc));function dc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function hc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dc(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dc(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var fc,Ec={paymentReceipts:[],filteredReceipts:[],sortAndFilter:{order:"desc",orderBy:"updated_at",page:0,rowsPerPage:10},loading:!1},gc=_s(Ec,(uc={},Object(v.a)(uc,"PAYMENT_RECEIPTS_LIST_ACTION_START",function(e){return hc({},e,{loading:!0})}),Object(v.a)(uc,"PAYMENT_RECEIPTS_LIST_ACTION_FINISH",function(e){return hc({},e,{loading:!1})}),Object(v.a)(uc,"PAYMENT_RECEIPTS_LIST_ACTION_ERROR",function(e){return hc({},e,{loading:!1})}),Object(v.a)(uc,"SET_PAYMENT_RECEIPTS",function(e,t){return hc({},e,{paymentReceipts:t.payload,sortAndFilter:hc({},e.sortAndFilter,{order:"desc",orderBy:"updated_at"})})}),Object(v.a)(uc,"SORT_RECEIPTS_LIST",function(e,t){return hc({},e,{filteredReceipts:t.payload.paymentReceipts,sortAndFilter:hc({},e.sortAndFilter,{order:t.payload.order,orderBy:t.payload.orderBy})})}),Object(v.a)(uc,"FILTER_RECEIPTS",function(e,t){return hc({},e,{filteredReceipts:t.payload})}),Object(v.a)(uc,"CLEAR_RECEIPT_LISTS",function(e){return hc({},e,{paymentReceipts:[],filteredReceipts:[]})}),uc)),yc=Object(w.combineReducers)({global:Rs,auth:ws,form:bs.a,newCase:Ds,myCasesList:Qs,chatCase:Gs,transferCase:Xs,historyAccess:ac,historyCase:ic,questionTemplate:mc,paymentReceipts:gc}),vc=function(e){function t(){return Object(b.a)(this,t),Object(S.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(h.a.Component),bc=Object(N.g)(vc);fc="//eyadatak.sevendynamic.com/backend/api/",W.a.interceptors.request.use(function(e){var t=ae();t||(te("ar"),t=ae()),e.baseURL=fc+"".concat(t,"/");var a=ee();return a&&(e.headers.Authorization="Bearer ".concat(a)),e},function(e){return Promise.reject(e)});var _c=function(e){var t,a=[vs,ys.a],n=[w.applyMiddleware.apply(void 0,a)];return t=w.compose.apply(void 0,n),Object(w.createStore)(yc,e,t)}({global:qs,auth:Ns,form:{},newCase:Fs,myCasesList:Us,chatCase:Ws,transferCase:Ks,historyAccess:tc,historyCase:cc,questionTemplate:pc,paymentReceipts:Ec});E.a.render(h.a.createElement(y.a,{store:_c},h.a.createElement(g.a,null,h.a.createElement(bc,null,h.a.createElement(gs,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},54:function(e,t,a){e.exports=a.p+"static/media/magnifying-glass.1e8e1a25.svg"},65:function(e,t,a){e.exports=a.p+"static/media/login-shape2.a13fd722.svg"},83:function(e,t,a){e.exports=a.p+"static/media/left-arrow.250a01b2.svg"},85:function(e,t,a){e.exports=a.p+"static/media/profile-pic01.fde98d39.svg"},86:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAQCAYAAACiEqkUAAAAAXNSR0IArs4c6QAABEhJREFUWAnVlluIlVUUgM/xMmYWjvfAISNLpIv1kJoFaWSYUy9ZeENfKughQ6MeepMivGASBaWCQgYhFgiSJoS3oaQMvOANlMC7aJCZ2ZQ6evq+/+x1/M/pOM5TzCz4zl57rbX3v/b6997/KZZKpZGFQmEC3Eyu4jgJLcVi8fLNgrq8nUIMh47IboIauvyC21sAC3wNrsN2eBg+AOUAPA5r4BosaG+e8BE3CzbARmgKe5doSXgH/A1PQBG2wBVohv5wFJSx7S0Iv4V0npC57cX/3z6Seg8Owqa6z8bxKFyFP6Ax13dRQ2AM6P8OinUnwYjPXaUYq/wK3WvjsVnsntCQqMTU8fWI8fh6wO3QB3rDf3LB5ry3JX/Vccb2LSi+aOOkeg4M88EjssQH074KHokvwAQ2pf6cSCzf4rsXHK8sKTfZ78SauLFYt4FH73DiHWPQ7weT3Z/s+iOfZ9D3wDk4D6fga8gWQtsLVsAhOAEn4QisgqyYtFGIS+jGyYh8fiYxCE6Di38OrOoOaINpMBDOgA+4o2pweRGvYFdMdABcsIN8ErHo98FFjUgrOJ+8DEMhfP8ku753wePp7lK8uL+C6H/p/PS9mxRfxi74ETzeyooUE4W4jM3xrreyGyNPJxsHTuQbaYC7wONyFizUQlDeqAxKCrbN4NjF6aERexRbt2TzjIY8mJ8D48xw0D5Z4xuFzRckd4I7ND+Xu2ERKFvSszx+2zNLefd1R49CbM7PnyUXBoKszMfgVjPJz+EczIfBsBqa4U9YBxVhrNtrPJTAHTGJ9he4BsPgBVCcJ+RIKKkdkuv/lNNV/fpEvjvR98HrENITJXbpfo387zGXQ+qIa4vxmSH/U7mEknE67WhYDwNhCjwFy8GFTAZlGZzNtBs/JhXzLb1hrmhvUZwN9PIXk4nmJXzaa335RfgnT/ElnYEf4C+I8dfRQ2rnCXtVG4l7JPrh+RCc8G3wzbXAWngAtP0MPnheqjZqRSYmbSttfts9Tf9ZeAh8xgUI8WI8TsdkTf58crigR/Adpg3fKXRj9L0E5qHP/hXzQVAzGYZu4TTcXTZlYx0fRWwipi/9NmhNMYwoldaC8mYY0edlllLpM9qt4PmfEf5osQ0GP5f63cIVoX9PsuubAo9ByO8oXlayAEZAiPdS+Faiez/9lpxeqOGzfd4H0n6a/OayD7ww47L8JsV8lGJsPMJexhYkm2A0nVb4PjOkH/q9YS+0geLnsyEfo45tDbjQA7W+5N+Z/CbXDWaBNr8qJuoXYnaKfRG9Bfw8hu/95GvGtg0soIs1L/POFkIbhbBgXqoh5j00zdGEvg4sgmPdWdkiGumYkOIDjtdg9ZVjMCgb1El/yC8KsRTdT7H/VwZ0JF3viKlQ3hqFQiO65MVbfzXM4Rxeyjs6s06up8lPOiReNG7trK03os6lWC+sU9hYxwQSGQV7yLvqmN8qwX8Bz1aINK2QFDoAAAAASUVORK5CYII="},87:function(e,t,a){e.exports=a.p+"static/media/fawry.10a48f59.png"}},[[218,1,2]]]);
//# sourceMappingURL=main.8c293ed0.chunk.js.map